{"version":3,"sources":["jscolor.js"],"names":["window","jscolor","BoxShadow","helper","getSupportedProp","props","elm","jsc","register","attachDOMReadyEvent","init","attachEvent","document","onDocumentMouseDown","onDocumentTouchStart","onWindowResize","lookupClass","installByClassName","tryInstallOnElements","elms","className","matchClass","RegExp","i","length","m","undefined","type","toLowerCase","isColorAttrSupported","match","targetElm","optsStr","dataOptions","getDataAttr","opts","Function","eParseError","warn","createElement","setAttribute","isCanvasSupported","getContext","fetchElement","mixed","getElementById","isElementType","nodeName","el","name","attrName","attrValue","getAttribute","evnt","func","addEventListener","detachEvent","removeEventListener","_attachedGroupEvents","attachGroupEvent","groupName","hasOwnProperty","push","detachGroupEvents","evt","fired","fireOnce","readyState","arguments","callee","documentElement","doScroll","top","tryScroll","body","e","setTimeout","msg","console","preventDefault","returnValue","captureTarget","target","setCapture","_capturedTarget","releaseTarget","releaseCapture","fireEvent","createEvent","ev","initEvent","dispatchEvent","createEventObject","classNameToList","replace","split","hasClass","indexOf","setClass","classList","unsetClass","repl","getStyle","getComputedStyle","currentStyle","setStyle","names","style","borderRadius","boxShadow","prop","value","alphaOpacity","Math","round","parseFloat","opacity","filter","setBorderRadius","setBoxShadow","getElementPos","relativeToViewport","x","y","rect","getBoundingClientRect","left","viewPos","getViewPos","getElementSize","offsetWidth","offsetHeight","getAbsPointerPos","event","changedTouches","clientX","clientY","getRelPointerPos","targetRect","srcElement","doc","pageXOffset","scrollLeft","clientLeft","pageYOffset","scrollTop","clientTop","getViewSize","innerWidth","clientWidth","innerHeight","clientHeight","redrawPosition","picker","owner","tp","vp","thisObj","fixed","targetElement","a","b","c","ts","vs","ps","getPickerOuterDims","position","l","smartPosition","pp","positionValue","contractShadow","_drawPosition","vShadow","shadowBlur","wrap","boxS","shadow","shadowColor","getPickerDims","displaySlider","getSliderComponent","insetWidth","padding","width","getPadToSliderPadding","sliderSize","height","closable","buttonHeight","dims","borderWidth","max","pointerBorderWidth","pointerThickness","getPadYComponent","mode","charAt","_jscLinkedInstance","showOnClick","show","_jscControlName","onControlPointerStart","hide","onParentScroll","_pointerMoveEvent","mouse","touch","_pointerEndEvent","_pointerOrigin","controlName","pointerType","_jscInstance","registerDragEvents","offset","onDocumentPointerMove","onDocumentPointerEnd","parent","frameElement","ofs","abs","rel","hsv","fromHSV","setPad","setSld","dispatchFineChange","dispatchChange","valueElement","onFineChange","call","ofsX","ofsY","pointerAbs","xVal","yVal","leaveSld","leavePad","_vmlNS","_vmlCSS","_vmlReady","initVML","namespaces","add","styleSheets","tags","ss","createStyleSheet","owningElement","id","addRule","createPalette","paletteObj","draw","canvas","ctx","drawFunc","clearRect","hGrad","createLinearGradient","addColorStop","fillStyle","fillRect","vGrad","vmlContainer","overflow","method","angle","colors","hRect","stroked","appendChild","vRect","color","color2","createSliderGradient","sliderObj","color1","grad","leaveValue","leaveStyle","hShadow","blur","spread","inset","this","prototype","toString","vals","join","options","opt","styleElement","required","refine","hash","uppercase","activeClass","overwriteImportant","minS","maxS","minV","maxV","rgb","crossSize","closeText","buttonColor","backgroundColor","borderColor","insetColor","pointerColor","pointerBorderColor","zIndex","container","HSV_RGB","h","s","v","u","floor","n","drawPicker","THIS","_processParentElementsInDOM","box","boxB","pad","padB","padM","padPal","cross","crossBY","crossBX","crossLY","crossLX","sld","sldB","sldM","sldGrad","sldPtrS","sldPtrIB","sldPtrMB","sldPtrOB","btn","btnT","insetColors","outsetColor","p","crossOuterSize","padToSliderPadding","min","PI","clear","border","background","cursor","display","right","sliderPtrSpace","bottom","font","textAlign","eOldIE","onmousedown","lineHeight","innerHTML","createTextNode","redrawPad","redrawSld","parentNode","yComponent","rgb1","rgb2","sldComponent","isPickerOwner","removeChild","redraw","importColor","test","backgroundImage","_jscOrigStyle","exportColor","fromString","flags","toUpperCase","bgColor","fgColor","isLight","isNaN","fromRGB","r","g","RGB_HSV","str","parseInt","substr","mR","mG","mB","params","re","toHEXString","toRGBString","_linkedElementsProcessed","currStyle","_jscEventsAttached","getElementsByTagName","onclick","origCallback","updateField","inputElms","buttonElms"],"mappings":"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","file":"jscolor.js","sourceRoot":"/source/","sourcesContent":["/**\r\n * jscolor - JavaScript Color Picker\r\n *\r\n * @link    http://jscolor.com\r\n * @license For open source use: GPLv3\r\n *          For commercial use: JSColor Commercial License\r\n * @author  Jan Odvarko\r\n * @version 2.0.5\r\n *\r\n * See usage examples at http://jscolor.com/examples/\r\n */\r\n\r\n\r\n\"use strict\";\r\n\r\n\r\nif (!window.jscolor) { window.jscolor = (function () {\r\n\r\n\r\nvar jsc = {\r\n\r\n\r\n\tregister : function () {\r\n\t\tjsc.attachDOMReadyEvent(jsc.init);\r\n\t\tjsc.attachEvent(document, 'mousedown', jsc.onDocumentMouseDown);\r\n\t\tjsc.attachEvent(document, 'touchstart', jsc.onDocumentTouchStart);\r\n\t\tjsc.attachEvent(window, 'resize', jsc.onWindowResize);\r\n\t},\r\n\r\n\r\n\tinit : function () {\r\n\t\tif (jsc.jscolor.lookupClass) {\r\n\t\t\tjsc.jscolor.installByClassName(jsc.jscolor.lookupClass);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\ttryInstallOnElements : function (elms, className) {\r\n\t\tvar matchClass = new RegExp('(^|\\\\s)(' + className + ')(\\\\s*(\\\\{[^}]*\\\\})|\\\\s|$)', 'i');\r\n\r\n\t\tfor (var i = 0; i < elms.length; i += 1) {\r\n\t\t\tif (elms[i].type !== undefined && elms[i].type.toLowerCase() == 'color') {\r\n\t\t\t\tif (jsc.isColorAttrSupported) {\r\n\t\t\t\t\t// skip inputs of type 'color' if supported by the browser\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar m;\r\n\t\t\tif (!elms[i].jscolor && elms[i].className && (m = elms[i].className.match(matchClass))) {\r\n\t\t\t\tvar targetElm = elms[i];\r\n\t\t\t\tvar optsStr = null;\r\n\r\n\t\t\t\tvar dataOptions = jsc.getDataAttr(targetElm, 'jscolor');\r\n\t\t\t\tif (dataOptions !== null) {\r\n\t\t\t\t\toptsStr = dataOptions;\r\n\t\t\t\t} else if (m[4]) {\r\n\t\t\t\t\toptsStr = m[4];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar opts = {};\r\n\t\t\t\tif (optsStr) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\topts = (new Function ('return (' + optsStr + ')'))();\r\n\t\t\t\t\t} catch(eParseError) {\r\n\t\t\t\t\t\tjsc.warn('Error parsing jscolor options: ' + eParseError + ':\\n' + optsStr);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttargetElm.jscolor = new jsc.jscolor(targetElm, opts);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tisColorAttrSupported : (function () {\r\n\t\tvar elm = document.createElement('input');\r\n\t\tif (elm.setAttribute) {\r\n\t\t\telm.setAttribute('type', 'color');\r\n\t\t\tif (elm.type.toLowerCase() == 'color') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t})(),\r\n\r\n\r\n\tisCanvasSupported : (function () {\r\n\t\tvar elm = document.createElement('canvas');\r\n\t\treturn !!(elm.getContext && elm.getContext('2d'));\r\n\t})(),\r\n\r\n\r\n\tfetchElement : function (mixed) {\r\n\t\treturn typeof mixed === 'string' ? document.getElementById(mixed) : mixed;\r\n\t},\r\n\r\n\r\n\tisElementType : function (elm, type) {\r\n\t\treturn elm.nodeName.toLowerCase() === type.toLowerCase();\r\n\t},\r\n\r\n\r\n\tgetDataAttr : function (el, name) {\r\n\t\tvar attrName = 'data-' + name;\r\n\t\tvar attrValue = el.getAttribute(attrName);\r\n\t\tif (attrValue !== null) {\r\n\t\t\treturn attrValue;\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\r\n\tattachEvent : function (el, evnt, func) {\r\n\t\tif (el.addEventListener) {\r\n\t\t\tel.addEventListener(evnt, func, false);\r\n\t\t} else if (el.attachEvent) {\r\n\t\t\tel.attachEvent('on' + evnt, func);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tdetachEvent : function (el, evnt, func) {\r\n\t\tif (el.removeEventListener) {\r\n\t\t\tel.removeEventListener(evnt, func, false);\r\n\t\t} else if (el.detachEvent) {\r\n\t\t\tel.detachEvent('on' + evnt, func);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_attachedGroupEvents : {},\r\n\r\n\r\n\tattachGroupEvent : function (groupName, el, evnt, func) {\r\n\t\tif (!jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\r\n\t\t\tjsc._attachedGroupEvents[groupName] = [];\r\n\t\t}\r\n\t\tjsc._attachedGroupEvents[groupName].push([el, evnt, func]);\r\n\t\tjsc.attachEvent(el, evnt, func);\r\n\t},\r\n\r\n\r\n\tdetachGroupEvents : function (groupName) {\r\n\t\tif (jsc._attachedGroupEvents.hasOwnProperty(groupName)) {\r\n\t\t\tfor (var i = 0; i < jsc._attachedGroupEvents[groupName].length; i += 1) {\r\n\t\t\t\tvar evt = jsc._attachedGroupEvents[groupName][i];\r\n\t\t\t\tjsc.detachEvent(evt[0], evt[1], evt[2]);\r\n\t\t\t}\r\n\t\t\tdelete jsc._attachedGroupEvents[groupName];\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tattachDOMReadyEvent : function (func) {\r\n\t\tvar fired = false;\r\n\t\tvar fireOnce = function () {\r\n\t\t\tif (!fired) {\r\n\t\t\t\tfired = true;\r\n\t\t\t\tfunc();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (document.readyState === 'complete') {\r\n\t\t\tsetTimeout(fireOnce, 1); // async\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (document.addEventListener) {\r\n\t\t\tdocument.addEventListener('DOMContentLoaded', fireOnce, false);\r\n\r\n\t\t\t// Fallback\r\n\t\t\twindow.addEventListener('load', fireOnce, false);\r\n\r\n\t\t} else if (document.attachEvent) {\r\n\t\t\t// IE\r\n\t\t\tdocument.attachEvent('onreadystatechange', function () {\r\n\t\t\t\tif (document.readyState === 'complete') {\r\n\t\t\t\t\tdocument.detachEvent('onreadystatechange', arguments.callee);\r\n\t\t\t\t\tfireOnce();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t// Fallback\r\n\t\t\twindow.attachEvent('onload', fireOnce);\r\n\r\n\t\t\t// IE7/8\r\n\t\t\tif (document.documentElement.doScroll && window == window.top) {\r\n\t\t\t\tvar tryScroll = function () {\r\n\t\t\t\t\tif (!document.body) { return; }\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tdocument.documentElement.doScroll('left');\r\n\t\t\t\t\t\tfireOnce();\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tsetTimeout(tryScroll, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\ttryScroll();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\twarn : function (msg) {\r\n\t\tif (window.console && window.console.warn) {\r\n\t\t\twindow.console.warn(msg);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tpreventDefault : function (e) {\r\n\t\tif (e.preventDefault) { e.preventDefault(); }\r\n\t\te.returnValue = false;\r\n\t},\r\n\r\n\r\n\tcaptureTarget : function (target) {\r\n\t\t// IE\r\n\t\tif (target.setCapture) {\r\n\t\t\tjsc._capturedTarget = target;\r\n\t\t\tjsc._capturedTarget.setCapture();\r\n\t\t}\r\n\t},\r\n\r\n\r\n\treleaseTarget : function () {\r\n\t\t// IE\r\n\t\tif (jsc._capturedTarget) {\r\n\t\t\tjsc._capturedTarget.releaseCapture();\r\n\t\t\tjsc._capturedTarget = null;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tfireEvent : function (el, evnt) {\r\n\t\tif (!el) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (document.createEvent) {\r\n\t\t\tvar ev = document.createEvent('HTMLEvents');\r\n\t\t\tev.initEvent(evnt, true, true);\r\n\t\t\tel.dispatchEvent(ev);\r\n\t\t} else if (document.createEventObject) {\r\n\t\t\tvar ev = document.createEventObject();\r\n\t\t\tel.fireEvent('on' + evnt, ev);\r\n\t\t} else if (el['on' + evnt]) { // alternatively use the traditional event model\r\n\t\t\tel['on' + evnt]();\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tclassNameToList : function (className) {\r\n\t\treturn className.replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\r\n\t},\r\n\r\n\r\n\t// The className parameter (str) can only contain a single class name\r\n\thasClass : function (elm, className) {\r\n\t\tif (!className) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn -1 != (' ' + elm.className.replace(/\\s+/g, ' ') + ' ').indexOf(' ' + className + ' ');\r\n\t},\r\n\r\n\r\n\t// The className parameter (str) can contain multiple class names separated by whitespace\r\n\tsetClass : function (elm, className) {\r\n\t\tvar classList = jsc.classNameToList(className);\r\n\t\tfor (var i = 0; i < classList.length; i += 1) {\r\n\t\t\tif (!jsc.hasClass(elm, classList[i])) {\r\n\t\t\t\telm.className += (elm.className ? ' ' : '') + classList[i];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t// The className parameter (str) can contain multiple class names separated by whitespace\r\n\tunsetClass : function (elm, className) {\r\n\t\tvar classList = jsc.classNameToList(className);\r\n\t\tfor (var i = 0; i < classList.length; i += 1) {\r\n\t\t\tvar repl = new RegExp(\r\n\t\t\t\t'^\\\\s*' + classList[i] + '\\\\s*|' +\r\n\t\t\t\t'\\\\s*' + classList[i] + '\\\\s*$|' +\r\n\t\t\t\t'\\\\s+' + classList[i] + '(\\\\s+)',\r\n\t\t\t\t'g'\r\n\t\t\t);\r\n\t\t\telm.className = elm.className.replace(repl, '$1');\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tgetStyle : function (elm) {\r\n\t\treturn window.getComputedStyle ? window.getComputedStyle(elm) : elm.currentStyle;\r\n\t},\r\n\r\n\r\n\tsetStyle : (function () {\r\n\t\tvar helper = document.createElement('div');\r\n\t\tvar getSupportedProp = function (names) {\r\n\t\t\tfor (var i = 0; i < names.length; i += 1) {\r\n\t\t\t\tif (names[i] in helper.style) {\r\n\t\t\t\t\treturn names[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar props = {\r\n\t\t\tborderRadius: getSupportedProp(['borderRadius', 'MozBorderRadius', 'webkitBorderRadius']),\r\n\t\t\tboxShadow: getSupportedProp(['boxShadow', 'MozBoxShadow', 'webkitBoxShadow'])\r\n\t\t};\r\n\t\treturn function (elm, prop, value) {\r\n\t\t\tswitch (prop.toLowerCase()) {\r\n\t\t\tcase 'opacity':\r\n\t\t\t\tvar alphaOpacity = Math.round(parseFloat(value) * 100);\r\n\t\t\t\telm.style.opacity = value;\r\n\t\t\t\telm.style.filter = 'alpha(opacity=' + alphaOpacity + ')';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\telm.style[props[prop]] = value;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t};\r\n\t})(),\r\n\r\n\r\n\tsetBorderRadius : function (elm, value) {\r\n\t\tjsc.setStyle(elm, 'borderRadius', value || '0');\r\n\t},\r\n\r\n\r\n\tsetBoxShadow : function (elm, value) {\r\n\t\tjsc.setStyle(elm, 'boxShadow', value || 'none');\r\n\t},\r\n\r\n\r\n\tgetElementPos : function (e, relativeToViewport) {\r\n\t\tvar x=0, y=0;\r\n\t\tvar rect = e.getBoundingClientRect();\r\n\t\tx = rect.left;\r\n\t\ty = rect.top;\r\n\t\tif (!relativeToViewport) {\r\n\t\t\tvar viewPos = jsc.getViewPos();\r\n\t\t\tx += viewPos[0];\r\n\t\t\ty += viewPos[1];\r\n\t\t}\r\n\t\treturn [x, y];\r\n\t},\r\n\r\n\r\n\tgetElementSize : function (e) {\r\n\t\treturn [e.offsetWidth, e.offsetHeight];\r\n\t},\r\n\r\n\r\n\t// get pointer's X/Y coordinates relative to viewport\r\n\tgetAbsPointerPos : function (e) {\r\n\t\tif (!e) { e = window.event; }\r\n\t\tvar x = 0, y = 0;\r\n\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length) {\r\n\t\t\t// touch devices\r\n\t\t\tx = e.changedTouches[0].clientX;\r\n\t\t\ty = e.changedTouches[0].clientY;\r\n\t\t} else if (typeof e.clientX === 'number') {\r\n\t\t\tx = e.clientX;\r\n\t\t\ty = e.clientY;\r\n\t\t}\r\n\t\treturn { x: x, y: y };\r\n\t},\r\n\r\n\r\n\t// get pointer's X/Y coordinates relative to target element\r\n\tgetRelPointerPos : function (e) {\r\n\t\tif (!e) { e = window.event; }\r\n\t\tvar target = e.target || e.srcElement;\r\n\t\tvar targetRect = target.getBoundingClientRect();\r\n\r\n\t\tvar x = 0, y = 0;\r\n\r\n\t\tvar clientX = 0, clientY = 0;\r\n\t\tif (typeof e.changedTouches !== 'undefined' && e.changedTouches.length) {\r\n\t\t\t// touch devices\r\n\t\t\tclientX = e.changedTouches[0].clientX;\r\n\t\t\tclientY = e.changedTouches[0].clientY;\r\n\t\t} else if (typeof e.clientX === 'number') {\r\n\t\t\tclientX = e.clientX;\r\n\t\t\tclientY = e.clientY;\r\n\t\t}\r\n\r\n\t\tx = clientX - targetRect.left;\r\n\t\ty = clientY - targetRect.top;\r\n\t\treturn { x: x, y: y };\r\n\t},\r\n\r\n\r\n\tgetViewPos : function () {\r\n\t\tvar doc = document.documentElement;\r\n\t\treturn [\r\n\t\t\t(window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0),\r\n\t\t\t(window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\r\n\t\t];\r\n\t},\r\n\r\n\r\n\tgetViewSize : function () {\r\n\t\tvar doc = document.documentElement;\r\n\t\treturn [\r\n\t\t\t(window.innerWidth || doc.clientWidth),\r\n\t\t\t(window.innerHeight || doc.clientHeight),\r\n\t\t];\r\n\t},\r\n\r\n\r\n\tredrawPosition : function () {\r\n\r\n\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\tvar thisObj = jsc.picker.owner;\r\n\r\n\t\t\tvar tp, vp;\r\n\r\n\t\t\tif (thisObj.fixed) {\r\n\t\t\t\t// Fixed elements are positioned relative to viewport,\r\n\t\t\t\t// therefore we can ignore the scroll offset\r\n\t\t\t\ttp = jsc.getElementPos(thisObj.targetElement, true); // target pos\r\n\t\t\t\tvp = [0, 0]; // view pos\r\n\t\t\t} else {\r\n\t\t\t\ttp = jsc.getElementPos(thisObj.targetElement); // target pos\r\n\t\t\t\tvp = jsc.getViewPos(); // view pos\r\n\t\t\t}\r\n\r\n\t\t\tvar ts = jsc.getElementSize(thisObj.targetElement); // target size\r\n\t\t\tvar vs = jsc.getViewSize(); // view size\r\n\t\t\tvar ps = jsc.getPickerOuterDims(thisObj); // picker size\r\n\t\t\tvar a, b, c;\r\n\t\t\tswitch (thisObj.position.toLowerCase()) {\r\n\t\t\t\tcase 'left': a=1; b=0; c=-1; break;\r\n\t\t\t\tcase 'right':a=1; b=0; c=1; break;\r\n\t\t\t\tcase 'top':  a=0; b=1; c=-1; break;\r\n\t\t\t\tdefault:     a=0; b=1; c=1; break;\r\n\t\t\t}\r\n\t\t\tvar l = (ts[b]+ps[b])/2;\r\n\r\n\t\t\t// compute picker position\r\n\t\t\tif (!thisObj.smartPosition) {\r\n\t\t\t\tvar pp = [\r\n\t\t\t\t\ttp[a],\r\n\t\t\t\t\ttp[b]+ts[b]-l+l*c\r\n\t\t\t\t];\r\n\t\t\t} else {\r\n\t\t\t\tvar pp = [\r\n\t\t\t\t\t-vp[a]+tp[a]+ps[a] > vs[a] ?\r\n\t\t\t\t\t\t(-vp[a]+tp[a]+ts[a]/2 > vs[a]/2 && tp[a]+ts[a]-ps[a] >= 0 ? tp[a]+ts[a]-ps[a] : tp[a]) :\r\n\t\t\t\t\t\ttp[a],\r\n\t\t\t\t\t-vp[b]+tp[b]+ts[b]+ps[b]-l+l*c > vs[b] ?\r\n\t\t\t\t\t\t(-vp[b]+tp[b]+ts[b]/2 > vs[b]/2 && tp[b]+ts[b]-l-l*c >= 0 ? tp[b]+ts[b]-l-l*c : tp[b]+ts[b]-l+l*c) :\r\n\t\t\t\t\t\t(tp[b]+ts[b]-l+l*c >= 0 ? tp[b]+ts[b]-l+l*c : tp[b]+ts[b]-l-l*c)\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t\tvar x = pp[a];\r\n\t\t\tvar y = pp[b];\r\n\t\t\tvar positionValue = thisObj.fixed ? 'fixed' : 'absolute';\r\n\t\t\tvar contractShadow =\r\n\t\t\t\t(pp[0] + ps[0] > tp[0] || pp[0] < tp[0] + ts[0]) &&\r\n\t\t\t\t(pp[1] + ps[1] < tp[1] + ts[1]);\r\n\r\n\t\t\tjsc._drawPosition(thisObj, x, y, positionValue, contractShadow);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_drawPosition : function (thisObj, x, y, positionValue, contractShadow) {\r\n\t\tvar vShadow = contractShadow ? 0 : thisObj.shadowBlur; // px\r\n\r\n\t\tjsc.picker.wrap.style.position = positionValue;\r\n\t\tjsc.picker.wrap.style.left = x + 'px';\r\n\t\tjsc.picker.wrap.style.top = y + 'px';\r\n\r\n\t\tjsc.setBoxShadow(\r\n\t\t\tjsc.picker.boxS,\r\n\t\t\tthisObj.shadow ?\r\n\t\t\t\tnew jsc.BoxShadow(0, vShadow, thisObj.shadowBlur, 0, thisObj.shadowColor) :\r\n\t\t\t\tnull);\r\n\t},\r\n\r\n\r\n\tgetPickerDims : function (thisObj) {\r\n\t\tvar displaySlider = !!jsc.getSliderComponent(thisObj);\r\n\t\tvar dims = [\r\n\t\t\t2 * thisObj.insetWidth + 2 * thisObj.padding + thisObj.width +\r\n\t\t\t\t(displaySlider ? 2 * thisObj.insetWidth + jsc.getPadToSliderPadding(thisObj) + thisObj.sliderSize : 0),\r\n\t\t\t2 * thisObj.insetWidth + 2 * thisObj.padding + thisObj.height +\r\n\t\t\t\t(thisObj.closable ? 2 * thisObj.insetWidth + thisObj.padding + thisObj.buttonHeight : 0)\r\n\t\t];\r\n\t\treturn dims;\r\n\t},\r\n\r\n\r\n\tgetPickerOuterDims : function (thisObj) {\r\n\t\tvar dims = jsc.getPickerDims(thisObj);\r\n\t\treturn [\r\n\t\t\tdims[0] + 2 * thisObj.borderWidth,\r\n\t\t\tdims[1] + 2 * thisObj.borderWidth\r\n\t\t];\r\n\t},\r\n\r\n\r\n\tgetPadToSliderPadding : function (thisObj) {\r\n\t\treturn Math.max(thisObj.padding, 1.5 * (2 * thisObj.pointerBorderWidth + thisObj.pointerThickness));\r\n\t},\r\n\r\n\r\n\tgetPadYComponent : function (thisObj) {\r\n\t\tswitch (thisObj.mode.charAt(1).toLowerCase()) {\r\n\t\t\tcase 'v': return 'v'; break;\r\n\t\t}\r\n\t\treturn 's';\r\n\t},\r\n\r\n\r\n\tgetSliderComponent : function (thisObj) {\r\n\t\tif (thisObj.mode.length > 2) {\r\n\t\t\tswitch (thisObj.mode.charAt(2).toLowerCase()) {\r\n\t\t\t\tcase 's': return 's'; break;\r\n\t\t\t\tcase 'v': return 'v'; break;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\r\n\tonDocumentMouseDown : function (e) {\r\n\t\tif (!e) { e = window.event; }\r\n\t\tvar target = e.target || e.srcElement;\r\n\r\n\t\tif (target._jscLinkedInstance) {\r\n\t\t\tif (target._jscLinkedInstance.showOnClick) {\r\n\t\t\t\ttarget._jscLinkedInstance.show();\r\n\t\t\t}\r\n\t\t} else if (target._jscControlName) {\r\n\t\t\tjsc.onControlPointerStart(e, target, target._jscControlName, 'mouse');\r\n\t\t} else {\r\n\t\t\t// Mouse is outside the picker controls -> hide the color picker!\r\n\t\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\t\tjsc.picker.owner.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonDocumentTouchStart : function (e) {\r\n\t\tif (!e) { e = window.event; }\r\n\t\tvar target = e.target || e.srcElement;\r\n\r\n\t\tif (target._jscLinkedInstance) {\r\n\t\t\tif (target._jscLinkedInstance.showOnClick) {\r\n\t\t\t\ttarget._jscLinkedInstance.show();\r\n\t\t\t}\r\n\t\t} else if (target._jscControlName) {\r\n\t\t\tjsc.onControlPointerStart(e, target, target._jscControlName, 'touch');\r\n\t\t} else {\r\n\t\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\t\tjsc.picker.owner.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonWindowResize : function (e) {\r\n\t\tjsc.redrawPosition();\r\n\t},\r\n\r\n\r\n\tonParentScroll : function (e) {\r\n\t\t// hide the picker when one of the parent elements is scrolled\r\n\t\tif (jsc.picker && jsc.picker.owner) {\r\n\t\t\tjsc.picker.owner.hide();\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_pointerMoveEvent : {\r\n\t\tmouse: 'mousemove',\r\n\t\ttouch: 'touchmove'\r\n\t},\r\n\t_pointerEndEvent : {\r\n\t\tmouse: 'mouseup',\r\n\t\ttouch: 'touchend'\r\n\t},\r\n\r\n\r\n\t_pointerOrigin : null,\r\n\t_capturedTarget : null,\r\n\r\n\r\n\tonControlPointerStart : function (e, target, controlName, pointerType) {\r\n\t\tvar thisObj = target._jscInstance;\r\n\r\n\t\tjsc.preventDefault(e);\r\n\t\tjsc.captureTarget(target);\r\n\r\n\t\tvar registerDragEvents = function (doc, offset) {\r\n\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerMoveEvent[pointerType],\r\n\t\t\t\tjsc.onDocumentPointerMove(e, target, controlName, pointerType, offset));\r\n\t\t\tjsc.attachGroupEvent('drag', doc, jsc._pointerEndEvent[pointerType],\r\n\t\t\t\tjsc.onDocumentPointerEnd(e, target, controlName, pointerType));\r\n\t\t};\r\n\r\n\t\tregisterDragEvents(document, [0, 0]);\r\n\r\n\t\tif (window.parent && window.frameElement) {\r\n\t\t\tvar rect = window.frameElement.getBoundingClientRect();\r\n\t\t\tvar ofs = [-rect.left, -rect.top];\r\n\t\t\tregisterDragEvents(window.parent.window.document, ofs);\r\n\t\t}\r\n\r\n\t\tvar abs = jsc.getAbsPointerPos(e);\r\n\t\tvar rel = jsc.getRelPointerPos(e);\r\n\t\tjsc._pointerOrigin = {\r\n\t\t\tx: abs.x - rel.x,\r\n\t\t\ty: abs.y - rel.y\r\n\t\t};\r\n\r\n\t\tswitch (controlName) {\r\n\t\tcase 'pad':\r\n\t\t\t// if the slider is at the bottom, move it up\r\n\t\t\tswitch (jsc.getSliderComponent(thisObj)) {\r\n\t\t\tcase 's': if (thisObj.hsv[1] === 0) { thisObj.fromHSV(null, 100, null); }; break;\r\n\t\t\tcase 'v': if (thisObj.hsv[2] === 0) { thisObj.fromHSV(null, null, 100); }; break;\r\n\t\t\t}\r\n\t\t\tjsc.setPad(thisObj, e, 0, 0);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'sld':\r\n\t\t\tjsc.setSld(thisObj, e, 0);\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tjsc.dispatchFineChange(thisObj);\r\n\t},\r\n\r\n\r\n\tonDocumentPointerMove : function (e, target, controlName, pointerType, offset) {\r\n\t\treturn function (e) {\r\n\t\t\tvar thisObj = target._jscInstance;\r\n\t\t\tswitch (controlName) {\r\n\t\t\tcase 'pad':\r\n\t\t\t\tif (!e) { e = window.event; }\r\n\t\t\t\tjsc.setPad(thisObj, e, offset[0], offset[1]);\r\n\t\t\t\tjsc.dispatchFineChange(thisObj);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'sld':\r\n\t\t\t\tif (!e) { e = window.event; }\r\n\t\t\t\tjsc.setSld(thisObj, e, offset[1]);\r\n\t\t\t\tjsc.dispatchFineChange(thisObj);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tonDocumentPointerEnd : function (e, target, controlName, pointerType) {\r\n\t\treturn function (e) {\r\n\t\t\tvar thisObj = target._jscInstance;\r\n\t\t\tjsc.detachGroupEvents('drag');\r\n\t\t\tjsc.releaseTarget();\r\n\t\t\t// Always dispatch changes after detaching outstanding mouse handlers,\r\n\t\t\t// in case some user interaction will occur in user's onchange callback\r\n\t\t\t// that would intrude with current mouse events\r\n\t\t\tjsc.dispatchChange(thisObj);\r\n\t\t};\r\n\t},\r\n\r\n\r\n\tdispatchChange : function (thisObj) {\r\n\t\tif (thisObj.valueElement) {\r\n\t\t\tif (jsc.isElementType(thisObj.valueElement, 'input')) {\r\n\t\t\t\tjsc.fireEvent(thisObj.valueElement, 'change');\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tdispatchFineChange : function (thisObj) {\r\n\t\tif (thisObj.onFineChange) {\r\n\t\t\tvar callback;\r\n\t\t\tif (typeof thisObj.onFineChange === 'string') {\r\n\t\t\t\tcallback = new Function (thisObj.onFineChange);\r\n\t\t\t} else {\r\n\t\t\t\tcallback = thisObj.onFineChange;\r\n\t\t\t}\r\n\t\t\tcallback.call(thisObj);\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tsetPad : function (thisObj, e, ofsX, ofsY) {\r\n\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\tvar x = ofsX + pointerAbs.x - jsc._pointerOrigin.x - thisObj.padding - thisObj.insetWidth;\r\n\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.insetWidth;\r\n\r\n\t\tvar xVal = x * (360 / (thisObj.width - 1));\r\n\t\tvar yVal = 100 - (y * (100 / (thisObj.height - 1)));\r\n\r\n\t\tswitch (jsc.getPadYComponent(thisObj)) {\r\n\t\tcase 's': thisObj.fromHSV(xVal, yVal, null, jsc.leaveSld); break;\r\n\t\tcase 'v': thisObj.fromHSV(xVal, null, yVal, jsc.leaveSld); break;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tsetSld : function (thisObj, e, ofsY) {\r\n\t\tvar pointerAbs = jsc.getAbsPointerPos(e);\r\n\t\tvar y = ofsY + pointerAbs.y - jsc._pointerOrigin.y - thisObj.padding - thisObj.insetWidth;\r\n\r\n\t\tvar yVal = 100 - (y * (100 / (thisObj.height - 1)));\r\n\r\n\t\tswitch (jsc.getSliderComponent(thisObj)) {\r\n\t\tcase 's': thisObj.fromHSV(null, yVal, null, jsc.leavePad); break;\r\n\t\tcase 'v': thisObj.fromHSV(null, null, yVal, jsc.leavePad); break;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t_vmlNS : 'jsc_vml_',\r\n\t_vmlCSS : 'jsc_vml_css_',\r\n\t_vmlReady : false,\r\n\r\n\r\n\tinitVML : function () {\r\n\t\tif (!jsc._vmlReady) {\r\n\t\t\t// init VML namespace\r\n\t\t\tvar doc = document;\r\n\t\t\tif (!doc.namespaces[jsc._vmlNS]) {\r\n\t\t\t\tdoc.namespaces.add(jsc._vmlNS, 'urn:schemas-microsoft-com:vml');\r\n\t\t\t}\r\n\t\t\tif (!doc.styleSheets[jsc._vmlCSS]) {\r\n\t\t\t\tvar tags = ['shape', 'shapetype', 'group', 'background', 'path', 'formulas', 'handles', 'fill', 'stroke', 'shadow', 'textbox', 'textpath', 'imagedata', 'line', 'polyline', 'curve', 'rect', 'roundrect', 'oval', 'arc', 'image'];\r\n\t\t\t\tvar ss = doc.createStyleSheet();\r\n\t\t\t\tss.owningElement.id = jsc._vmlCSS;\r\n\t\t\t\tfor (var i = 0; i < tags.length; i += 1) {\r\n\t\t\t\t\tss.addRule(jsc._vmlNS + '\\\\:' + tags[i], 'behavior:url(#default#VML);');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tjsc._vmlReady = true;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\tcreatePalette : function () {\r\n\r\n\t\tvar paletteObj = {\r\n\t\t\telm: null,\r\n\t\t\tdraw: null\r\n\t\t};\r\n\r\n\t\tif (jsc.isCanvasSupported) {\r\n\t\t\t// Canvas implementation for modern browsers\r\n\r\n\t\t\tvar canvas = document.createElement('canvas');\r\n\t\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\t\tvar drawFunc = function (width, height, type) {\r\n\t\t\t\tcanvas.width = width;\r\n\t\t\t\tcanvas.height = height;\r\n\r\n\t\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\tvar hGrad = ctx.createLinearGradient(0, 0, canvas.width, 0);\r\n\t\t\t\thGrad.addColorStop(0 / 6, '#F00');\r\n\t\t\t\thGrad.addColorStop(1 / 6, '#FF0');\r\n\t\t\t\thGrad.addColorStop(2 / 6, '#0F0');\r\n\t\t\t\thGrad.addColorStop(3 / 6, '#0FF');\r\n\t\t\t\thGrad.addColorStop(4 / 6, '#00F');\r\n\t\t\t\thGrad.addColorStop(5 / 6, '#F0F');\r\n\t\t\t\thGrad.addColorStop(6 / 6, '#F00');\r\n\r\n\t\t\t\tctx.fillStyle = hGrad;\r\n\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\tvar vGrad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\t\tswitch (type.toLowerCase()) {\r\n\t\t\t\tcase 's':\r\n\t\t\t\t\tvGrad.addColorStop(0, 'rgba(255,255,255,0)');\r\n\t\t\t\t\tvGrad.addColorStop(1, 'rgba(255,255,255,1)');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'v':\r\n\t\t\t\t\tvGrad.addColorStop(0, 'rgba(0,0,0,0)');\r\n\t\t\t\t\tvGrad.addColorStop(1, 'rgba(0,0,0,1)');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tctx.fillStyle = vGrad;\r\n\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t\t};\r\n\r\n\t\t\tpaletteObj.elm = canvas;\r\n\t\t\tpaletteObj.draw = drawFunc;\r\n\r\n\t\t} else {\r\n\t\t\t// VML fallback for IE 7 and 8\r\n\r\n\t\t\tjsc.initVML();\r\n\r\n\t\t\tvar vmlContainer = document.createElement('div');\r\n\t\t\tvmlContainer.style.position = 'relative';\r\n\t\t\tvmlContainer.style.overflow = 'hidden';\r\n\r\n\t\t\tvar hGrad = document.createElement(jsc._vmlNS + ':fill');\r\n\t\t\thGrad.type = 'gradient';\r\n\t\t\thGrad.method = 'linear';\r\n\t\t\thGrad.angle = '90';\r\n\t\t\thGrad.colors = '16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0'\r\n\r\n\t\t\tvar hRect = document.createElement(jsc._vmlNS + ':rect');\r\n\t\t\thRect.style.position = 'absolute';\r\n\t\t\thRect.style.left = -1 + 'px';\r\n\t\t\thRect.style.top = -1 + 'px';\r\n\t\t\thRect.stroked = false;\r\n\t\t\thRect.appendChild(hGrad);\r\n\t\t\tvmlContainer.appendChild(hRect);\r\n\r\n\t\t\tvar vGrad = document.createElement(jsc._vmlNS + ':fill');\r\n\t\t\tvGrad.type = 'gradient';\r\n\t\t\tvGrad.method = 'linear';\r\n\t\t\tvGrad.angle = '180';\r\n\t\t\tvGrad.opacity = '0';\r\n\r\n\t\t\tvar vRect = document.createElement(jsc._vmlNS + ':rect');\r\n\t\t\tvRect.style.position = 'absolute';\r\n\t\t\tvRect.style.left = -1 + 'px';\r\n\t\t\tvRect.style.top = -1 + 'px';\r\n\t\t\tvRect.stroked = false;\r\n\t\t\tvRect.appendChild(vGrad);\r\n\t\t\tvmlContainer.appendChild(vRect);\r\n\r\n\t\t\tvar drawFunc = function (width, height, type) {\r\n\t\t\t\tvmlContainer.style.width = width + 'px';\r\n\t\t\t\tvmlContainer.style.height = height + 'px';\r\n\r\n\t\t\t\thRect.style.width =\r\n\t\t\t\tvRect.style.width =\r\n\t\t\t\t\t(width + 1) + 'px';\r\n\t\t\t\thRect.style.height =\r\n\t\t\t\tvRect.style.height =\r\n\t\t\t\t\t(height + 1) + 'px';\r\n\r\n\t\t\t\t// Colors must be specified during every redraw, otherwise IE won't display\r\n\t\t\t\t// a full gradient during a subsequential redraw\r\n\t\t\t\thGrad.color = '#F00';\r\n\t\t\t\thGrad.color2 = '#F00';\r\n\r\n\t\t\t\tswitch (type.toLowerCase()) {\r\n\t\t\t\tcase 's':\r\n\t\t\t\t\tvGrad.color = vGrad.color2 = '#FFF';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'v':\r\n\t\t\t\t\tvGrad.color = vGrad.color2 = '#000';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tpaletteObj.elm = vmlContainer;\r\n\t\t\tpaletteObj.draw = drawFunc;\r\n\t\t}\r\n\r\n\t\treturn paletteObj;\r\n\t},\r\n\r\n\r\n\tcreateSliderGradient : function () {\r\n\r\n\t\tvar sliderObj = {\r\n\t\t\telm: null,\r\n\t\t\tdraw: null\r\n\t\t};\r\n\r\n\t\tif (jsc.isCanvasSupported) {\r\n\t\t\t// Canvas implementation for modern browsers\r\n\r\n\t\t\tvar canvas = document.createElement('canvas');\r\n\t\t\tvar ctx = canvas.getContext('2d');\r\n\r\n\t\t\tvar drawFunc = function (width, height, color1, color2) {\r\n\t\t\t\tcanvas.width = width;\r\n\t\t\t\tcanvas.height = height;\r\n\r\n\t\t\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\t\tvar grad = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n\t\t\t\tgrad.addColorStop(0, color1);\r\n\t\t\t\tgrad.addColorStop(1, color2);\r\n\r\n\t\t\t\tctx.fillStyle = grad;\r\n\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\t\t};\r\n\r\n\t\t\tsliderObj.elm = canvas;\r\n\t\t\tsliderObj.draw = drawFunc;\r\n\r\n\t\t} else {\r\n\t\t\t// VML fallback for IE 7 and 8\r\n\r\n\t\t\tjsc.initVML();\r\n\r\n\t\t\tvar vmlContainer = document.createElement('div');\r\n\t\t\tvmlContainer.style.position = 'relative';\r\n\t\t\tvmlContainer.style.overflow = 'hidden';\r\n\r\n\t\t\tvar grad = document.createElement(jsc._vmlNS + ':fill');\r\n\t\t\tgrad.type = 'gradient';\r\n\t\t\tgrad.method = 'linear';\r\n\t\t\tgrad.angle = '180';\r\n\r\n\t\t\tvar rect = document.createElement(jsc._vmlNS + ':rect');\r\n\t\t\trect.style.position = 'absolute';\r\n\t\t\trect.style.left = -1 + 'px';\r\n\t\t\trect.style.top = -1 + 'px';\r\n\t\t\trect.stroked = false;\r\n\t\t\trect.appendChild(grad);\r\n\t\t\tvmlContainer.appendChild(rect);\r\n\r\n\t\t\tvar drawFunc = function (width, height, color1, color2) {\r\n\t\t\t\tvmlContainer.style.width = width + 'px';\r\n\t\t\t\tvmlContainer.style.height = height + 'px';\r\n\r\n\t\t\t\trect.style.width = (width + 1) + 'px';\r\n\t\t\t\trect.style.height = (height + 1) + 'px';\r\n\r\n\t\t\t\tgrad.color = color1;\r\n\t\t\t\tgrad.color2 = color2;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tsliderObj.elm = vmlContainer;\r\n\t\t\tsliderObj.draw = drawFunc;\r\n\t\t}\r\n\r\n\t\treturn sliderObj;\r\n\t},\r\n\r\n\r\n\tleaveValue : 1<<0,\r\n\tleaveStyle : 1<<1,\r\n\tleavePad : 1<<2,\r\n\tleaveSld : 1<<3,\r\n\r\n\r\n\tBoxShadow : (function () {\r\n\t\tvar BoxShadow = function (hShadow, vShadow, blur, spread, color, inset) {\r\n\t\t\tthis.hShadow = hShadow;\r\n\t\t\tthis.vShadow = vShadow;\r\n\t\t\tthis.blur = blur;\r\n\t\t\tthis.spread = spread;\r\n\t\t\tthis.color = color;\r\n\t\t\tthis.inset = !!inset;\r\n\t\t};\r\n\r\n\t\tBoxShadow.prototype.toString = function () {\r\n\t\t\tvar vals = [\r\n\t\t\t\tMath.round(this.hShadow) + 'px',\r\n\t\t\t\tMath.round(this.vShadow) + 'px',\r\n\t\t\t\tMath.round(this.blur) + 'px',\r\n\t\t\t\tMath.round(this.spread) + 'px',\r\n\t\t\t\tthis.color\r\n\t\t\t];\r\n\t\t\tif (this.inset) {\r\n\t\t\t\tvals.push('inset');\r\n\t\t\t}\r\n\t\t\treturn vals.join(' ');\r\n\t\t};\r\n\r\n\t\treturn BoxShadow;\r\n\t})(),\r\n\r\n\r\n\t//\r\n\t// Usage:\r\n\t// var myColor = new jscolor(<targetElement> [, <options>])\r\n\t//\r\n\r\n\tjscolor : function (targetElement, options) {\r\n\r\n\t\t// General options\r\n\t\t//\r\n\t\tthis.value = null; // initial HEX color. To change it later, use methods fromString(), fromHSV() and fromRGB()\r\n\t\tthis.valueElement = targetElement; // element that will be used to display and input the color code\r\n\t\tthis.styleElement = targetElement; // element that will preview the picked color using CSS backgroundColor\r\n\t\tthis.required = true; // whether the associated text <input> can be left empty\r\n\t\tthis.refine = true; // whether to refine the entered color code (e.g. uppercase it and remove whitespace)\r\n\t\tthis.hash = false; // whether to prefix the HEX color code with # symbol\r\n\t\tthis.uppercase = true; // whether to show the color code in upper case\r\n\t\tthis.onFineChange = null; // called instantly every time the color changes (value can be either a function or a string with javascript code)\r\n\t\tthis.activeClass = 'jscolor-active'; // class to be set to the target element when a picker window is open on it\r\n\t\tthis.overwriteImportant = false; // whether to overwrite colors of styleElement using !important\r\n\t\tthis.minS = 0; // min allowed saturation (0 - 100)\r\n\t\tthis.maxS = 100; // max allowed saturation (0 - 100)\r\n\t\tthis.minV = 0; // min allowed value (brightness) (0 - 100)\r\n\t\tthis.maxV = 100; // max allowed value (brightness) (0 - 100)\r\n\r\n\t\t// Accessing the picked color\r\n\t\t//\r\n\t\tthis.hsv = [0, 0, 100]; // read-only  [0-360, 0-100, 0-100]\r\n\t\tthis.rgb = [255, 255, 255]; // read-only  [0-255, 0-255, 0-255]\r\n\r\n\t\t// Color Picker options\r\n\t\t//\r\n\t\tthis.width = 181; // width of color palette (in px)\r\n\t\tthis.height = 101; // height of color palette (in px)\r\n\t\tthis.showOnClick = true; // whether to display the color picker when user clicks on its target element\r\n\t\tthis.mode = 'HSV'; // HSV | HVS | HS | HV - layout of the color picker controls\r\n\t\tthis.position = 'bottom'; // left | right | top | bottom - position relative to the target element\r\n\t\tthis.smartPosition = true; // automatically change picker position when there is not enough space for it\r\n\t\tthis.sliderSize = 16; // px\r\n\t\tthis.crossSize = 8; // px\r\n\t\tthis.closable = false; // whether to display the Close button\r\n\t\tthis.closeText = 'Close';\r\n\t\tthis.buttonColor = '#000000'; // CSS color\r\n\t\tthis.buttonHeight = 18; // px\r\n\t\tthis.padding = 12; // px\r\n\t\tthis.backgroundColor = '#FFFFFF'; // CSS color\r\n\t\tthis.borderWidth = 1; // px\r\n\t\tthis.borderColor = '#BBBBBB'; // CSS color\r\n\t\tthis.borderRadius = 8; // px\r\n\t\tthis.insetWidth = 1; // px\r\n\t\tthis.insetColor = '#BBBBBB'; // CSS color\r\n\t\tthis.shadow = true; // whether to display shadow\r\n\t\tthis.shadowBlur = 15; // px\r\n\t\tthis.shadowColor = 'rgba(0,0,0,0.2)'; // CSS color\r\n\t\tthis.pointerColor = '#4C4C4C'; // px\r\n\t\tthis.pointerBorderColor = '#FFFFFF'; // px\r\n        this.pointerBorderWidth = 1; // px\r\n        this.pointerThickness = 2; // px\r\n\t\tthis.zIndex = 1000;\r\n\t\tthis.container = null; // where to append the color picker (BODY element by default)\r\n\r\n\r\n\t\tfor (var opt in options) {\r\n\t\t\tif (options.hasOwnProperty(opt)) {\r\n\t\t\t\tthis[opt] = options[opt];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tthis.hide = function () {\r\n\t\t\tif (isPickerOwner()) {\r\n\t\t\t\tdetachPicker();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.show = function () {\r\n\t\t\tdrawPicker();\r\n\t\t};\r\n\r\n\r\n\t\tthis.redraw = function () {\r\n\t\t\tif (isPickerOwner()) {\r\n\t\t\t\tdrawPicker();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.importColor = function () {\r\n\t\t\tif (!this.valueElement) {\r\n\t\t\t\tthis.exportColor();\r\n\t\t\t} else {\r\n\t\t\t\tif (jsc.isElementType(this.valueElement, 'input')) {\r\n\t\t\t\t\tif (!this.refine) {\r\n\t\t\t\t\t\tif (!this.fromString(this.valueElement.value, jsc.leaveValue)) {\r\n\t\t\t\t\t\t\tif (this.styleElement) {\r\n\t\t\t\t\t\t\t\tthis.styleElement.style.backgroundImage = this.styleElement._jscOrigStyle.backgroundImage;\r\n\t\t\t\t\t\t\t\tthis.styleElement.style.backgroundColor = this.styleElement._jscOrigStyle.backgroundColor;\r\n\t\t\t\t\t\t\t\tthis.styleElement.style.color = this.styleElement._jscOrigStyle.color;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.exportColor(jsc.leaveValue | jsc.leaveStyle);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (!this.required && /^\\s*$/.test(this.valueElement.value)) {\r\n\t\t\t\t\t\tthis.valueElement.value = '';\r\n\t\t\t\t\t\tif (this.styleElement) {\r\n\t\t\t\t\t\t\tthis.styleElement.style.backgroundImage = this.styleElement._jscOrigStyle.backgroundImage;\r\n\t\t\t\t\t\t\tthis.styleElement.style.backgroundColor = this.styleElement._jscOrigStyle.backgroundColor;\r\n\t\t\t\t\t\t\tthis.styleElement.style.color = this.styleElement._jscOrigStyle.color;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.exportColor(jsc.leaveValue | jsc.leaveStyle);\r\n\r\n\t\t\t\t\t} else if (this.fromString(this.valueElement.value)) {\r\n\t\t\t\t\t\t// managed to import color successfully from the value -> OK, don't do anything\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.exportColor();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// not an input element -> doesn't have any value\r\n\t\t\t\t\tthis.exportColor();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.exportColor = function (flags) {\r\n\t\t\tif (!(flags & jsc.leaveValue) && this.valueElement) {\r\n\t\t\t\tvar value = this.toString();\r\n\t\t\t\tif (this.uppercase) { value = value.toUpperCase(); }\r\n\t\t\t\tif (this.hash) { value = '#' + value; }\r\n\r\n\t\t\t\tif (jsc.isElementType(this.valueElement, 'input')) {\r\n\t\t\t\t\tthis.valueElement.value = value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.valueElement.innerHTML = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!(flags & jsc.leaveStyle)) {\r\n\t\t\t\tif (this.styleElement) {\r\n\t\t\t\t\tvar bgColor = '#' + this.toString();\r\n\t\t\t\t\tvar fgColor = this.isLight() ? '#000' : '#FFF';\r\n\r\n\t\t\t\t\tthis.styleElement.style.backgroundImage = 'none';\r\n\t\t\t\t\tthis.styleElement.style.backgroundColor = bgColor;\r\n\t\t\t\t\tthis.styleElement.style.color = fgColor;\r\n\r\n\t\t\t\t\tif (this.overwriteImportant) {\r\n\t\t\t\t\t\tthis.styleElement.setAttribute('style',\r\n\t\t\t\t\t\t\t'background: ' + bgColor + ' !important; ' +\r\n\t\t\t\t\t\t\t'color: ' + fgColor + ' !important;'\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!(flags & jsc.leavePad) && isPickerOwner()) {\r\n\t\t\t\tredrawPad();\r\n\t\t\t}\r\n\t\t\tif (!(flags & jsc.leaveSld) && isPickerOwner()) {\r\n\t\t\t\tredrawSld();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\t// h: 0-360\r\n\t\t// s: 0-100\r\n\t\t// v: 0-100\r\n\t\t//\r\n\t\tthis.fromHSV = function (h, s, v, flags) { // null = don't change\r\n\t\t\tif (h !== null) {\r\n\t\t\t\tif (isNaN(h)) { return false; }\r\n\t\t\t\th = Math.max(0, Math.min(360, h));\r\n\t\t\t}\r\n\t\t\tif (s !== null) {\r\n\t\t\t\tif (isNaN(s)) { return false; }\r\n\t\t\t\ts = Math.max(0, Math.min(100, this.maxS, s), this.minS);\r\n\t\t\t}\r\n\t\t\tif (v !== null) {\r\n\t\t\t\tif (isNaN(v)) { return false; }\r\n\t\t\t\tv = Math.max(0, Math.min(100, this.maxV, v), this.minV);\r\n\t\t\t}\r\n\r\n\t\t\tthis.rgb = HSV_RGB(\r\n\t\t\t\th===null ? this.hsv[0] : (this.hsv[0]=h),\r\n\t\t\t\ts===null ? this.hsv[1] : (this.hsv[1]=s),\r\n\t\t\t\tv===null ? this.hsv[2] : (this.hsv[2]=v)\r\n\t\t\t);\r\n\r\n\t\t\tthis.exportColor(flags);\r\n\t\t};\r\n\r\n\r\n\t\t// r: 0-255\r\n\t\t// g: 0-255\r\n\t\t// b: 0-255\r\n\t\t//\r\n\t\tthis.fromRGB = function (r, g, b, flags) { // null = don't change\r\n\t\t\tif (r !== null) {\r\n\t\t\t\tif (isNaN(r)) { return false; }\r\n\t\t\t\tr = Math.max(0, Math.min(255, r));\r\n\t\t\t}\r\n\t\t\tif (g !== null) {\r\n\t\t\t\tif (isNaN(g)) { return false; }\r\n\t\t\t\tg = Math.max(0, Math.min(255, g));\r\n\t\t\t}\r\n\t\t\tif (b !== null) {\r\n\t\t\t\tif (isNaN(b)) { return false; }\r\n\t\t\t\tb = Math.max(0, Math.min(255, b));\r\n\t\t\t}\r\n\r\n\t\t\tvar hsv = RGB_HSV(\r\n\t\t\t\tr===null ? this.rgb[0] : r,\r\n\t\t\t\tg===null ? this.rgb[1] : g,\r\n\t\t\t\tb===null ? this.rgb[2] : b\r\n\t\t\t);\r\n\t\t\tif (hsv[0] !== null) {\r\n\t\t\t\tthis.hsv[0] = Math.max(0, Math.min(360, hsv[0]));\r\n\t\t\t}\r\n\t\t\tif (hsv[2] !== 0) {\r\n\t\t\t\tthis.hsv[1] = hsv[1]===null ? null : Math.max(0, this.minS, Math.min(100, this.maxS, hsv[1]));\r\n\t\t\t}\r\n\t\t\tthis.hsv[2] = hsv[2]===null ? null : Math.max(0, this.minV, Math.min(100, this.maxV, hsv[2]));\r\n\r\n\t\t\t// update RGB according to final HSV, as some values might be trimmed\r\n\t\t\tvar rgb = HSV_RGB(this.hsv[0], this.hsv[1], this.hsv[2]);\r\n\t\t\tthis.rgb[0] = rgb[0];\r\n\t\t\tthis.rgb[1] = rgb[1];\r\n\t\t\tthis.rgb[2] = rgb[2];\r\n\r\n\t\t\tthis.exportColor(flags);\r\n\t\t};\r\n\r\n\r\n\t\tthis.fromString = function (str, flags) {\r\n\t\t\tvar m;\r\n\t\t\tif (m = str.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i)) {\r\n\t\t\t\t// HEX notation\r\n\t\t\t\t//\r\n\r\n\t\t\t\tif (m[1].length === 6) {\r\n\t\t\t\t\t// 6-char notation\r\n\t\t\t\t\tthis.fromRGB(\r\n\t\t\t\t\t\tparseInt(m[1].substr(0,2),16),\r\n\t\t\t\t\t\tparseInt(m[1].substr(2,2),16),\r\n\t\t\t\t\t\tparseInt(m[1].substr(4,2),16),\r\n\t\t\t\t\t\tflags\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 3-char notation\r\n\t\t\t\t\tthis.fromRGB(\r\n\t\t\t\t\t\tparseInt(m[1].charAt(0) + m[1].charAt(0),16),\r\n\t\t\t\t\t\tparseInt(m[1].charAt(1) + m[1].charAt(1),16),\r\n\t\t\t\t\t\tparseInt(m[1].charAt(2) + m[1].charAt(2),16),\r\n\t\t\t\t\t\tflags\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t} else if (m = str.match(/^\\W*rgba?\\(([^)]*)\\)\\W*$/i)) {\r\n\t\t\t\tvar params = m[1].split(',');\r\n\t\t\t\tvar re = /^\\s*(\\d*)(\\.\\d+)?\\s*$/;\r\n\t\t\t\tvar mR, mG, mB;\r\n\t\t\t\tif (\r\n\t\t\t\t\tparams.length >= 3 &&\r\n\t\t\t\t\t(mR = params[0].match(re)) &&\r\n\t\t\t\t\t(mG = params[1].match(re)) &&\r\n\t\t\t\t\t(mB = params[2].match(re))\r\n\t\t\t\t) {\r\n\t\t\t\t\tvar r = parseFloat((mR[1] || '0') + (mR[2] || ''));\r\n\t\t\t\t\tvar g = parseFloat((mG[1] || '0') + (mG[2] || ''));\r\n\t\t\t\t\tvar b = parseFloat((mB[1] || '0') + (mB[2] || ''));\r\n\t\t\t\t\tthis.fromRGB(r, g, b, flags);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\r\n\t\tthis.toString = function () {\r\n\t\t\treturn (\r\n\t\t\t\t(0x100 | Math.round(this.rgb[0])).toString(16).substr(1) +\r\n\t\t\t\t(0x100 | Math.round(this.rgb[1])).toString(16).substr(1) +\r\n\t\t\t\t(0x100 | Math.round(this.rgb[2])).toString(16).substr(1)\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.toHEXString = function () {\r\n\t\t\treturn '#' + this.toString().toUpperCase();\r\n\t\t};\r\n\r\n\r\n\t\tthis.toRGBString = function () {\r\n\t\t\treturn ('rgb(' +\r\n\t\t\t\tMath.round(this.rgb[0]) + ',' +\r\n\t\t\t\tMath.round(this.rgb[1]) + ',' +\r\n\t\t\t\tMath.round(this.rgb[2]) + ')'\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis.isLight = function () {\r\n\t\t\treturn (\r\n\t\t\t\t0.213 * this.rgb[0] +\r\n\t\t\t\t0.715 * this.rgb[1] +\r\n\t\t\t\t0.072 * this.rgb[2] >\r\n\t\t\t\t255 / 2\r\n\t\t\t);\r\n\t\t};\r\n\r\n\r\n\t\tthis._processParentElementsInDOM = function () {\r\n\t\t\tif (this._linkedElementsProcessed) { return; }\r\n\t\t\tthis._linkedElementsProcessed = true;\r\n\r\n\t\t\tvar elm = this.targetElement;\r\n\t\t\tdo {\r\n\t\t\t\t// If the target element or one of its parent nodes has fixed position,\r\n\t\t\t\t// then use fixed positioning instead\r\n\t\t\t\t//\r\n\t\t\t\t// Note: In Firefox, getComputedStyle returns null in a hidden iframe,\r\n\t\t\t\t// that's why we need to check if the returned style object is non-empty\r\n\t\t\t\tvar currStyle = jsc.getStyle(elm);\r\n\t\t\t\tif (currStyle && currStyle.position.toLowerCase() === 'fixed') {\r\n\t\t\t\t\tthis.fixed = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elm !== this.targetElement) {\r\n\t\t\t\t\t// Ensure to attach onParentScroll only once to each parent element\r\n\t\t\t\t\t// (multiple targetElements can share the same parent nodes)\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// Note: It's not just offsetParents that can be scrollable,\r\n\t\t\t\t\t// that's why we loop through all parent nodes\r\n\t\t\t\t\tif (!elm._jscEventsAttached) {\r\n\t\t\t\t\t\tjsc.attachEvent(elm, 'scroll', jsc.onParentScroll);\r\n\t\t\t\t\t\telm._jscEventsAttached = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} while ((elm = elm.parentNode) && !jsc.isElementType(elm, 'body'));\r\n\t\t};\r\n\r\n\r\n\t\t// r: 0-255\r\n\t\t// g: 0-255\r\n\t\t// b: 0-255\r\n\t\t//\r\n\t\t// returns: [ 0-360, 0-100, 0-100 ]\r\n\t\t//\r\n\t\tfunction RGB_HSV (r, g, b) {\r\n\t\t\tr /= 255;\r\n\t\t\tg /= 255;\r\n\t\t\tb /= 255;\r\n\t\t\tvar n = Math.min(Math.min(r,g),b);\r\n\t\t\tvar v = Math.max(Math.max(r,g),b);\r\n\t\t\tvar m = v - n;\r\n\t\t\tif (m === 0) { return [ null, 0, 100 * v ]; }\r\n\t\t\tvar h = r===n ? 3+(b-g)/m : (g===n ? 5+(r-b)/m : 1+(g-r)/m);\r\n\t\t\treturn [\r\n\t\t\t\t60 * (h===6?0:h),\r\n\t\t\t\t100 * (m/v),\r\n\t\t\t\t100 * v\r\n\t\t\t];\r\n\t\t}\r\n\r\n\r\n\t\t// h: 0-360\r\n\t\t// s: 0-100\r\n\t\t// v: 0-100\r\n\t\t//\r\n\t\t// returns: [ 0-255, 0-255, 0-255 ]\r\n\t\t//\r\n\t\tfunction HSV_RGB (h, s, v) {\r\n\t\t\tvar u = 255 * (v / 100);\r\n\r\n\t\t\tif (h === null) {\r\n\t\t\t\treturn [ u, u, u ];\r\n\t\t\t}\r\n\r\n\t\t\th /= 60;\r\n\t\t\ts /= 100;\r\n\r\n\t\t\tvar i = Math.floor(h);\r\n\t\t\tvar f = i%2 ? h-i : 1-(h-i);\r\n\t\t\tvar m = u * (1 - s);\r\n\t\t\tvar n = u * (1 - s * f);\r\n\t\t\tswitch (i) {\r\n\t\t\t\tcase 6:\r\n\t\t\t\tcase 0: return [u,n,m];\r\n\t\t\t\tcase 1: return [n,u,m];\r\n\t\t\t\tcase 2: return [m,u,n];\r\n\t\t\t\tcase 3: return [m,n,u];\r\n\t\t\t\tcase 4: return [n,m,u];\r\n\t\t\t\tcase 5: return [u,m,n];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction detachPicker () {\r\n\t\t\tjsc.unsetClass(THIS.targetElement, THIS.activeClass);\r\n\t\t\tjsc.picker.wrap.parentNode.removeChild(jsc.picker.wrap);\r\n\t\t\tdelete jsc.picker.owner;\r\n\t\t}\r\n\r\n\r\n\t\tfunction drawPicker () {\r\n\r\n\t\t\t// At this point, when drawing the picker, we know what the parent elements are\r\n\t\t\t// and we can do all related DOM operations, such as registering events on them\r\n\t\t\t// or checking their positioning\r\n\t\t\tTHIS._processParentElementsInDOM();\r\n\r\n\t\t\tif (!jsc.picker) {\r\n\t\t\t\tjsc.picker = {\r\n\t\t\t\t\towner: null,\r\n\t\t\t\t\twrap : document.createElement('div'),\r\n\t\t\t\t\tbox : document.createElement('div'),\r\n\t\t\t\t\tboxS : document.createElement('div'), // shadow area\r\n\t\t\t\t\tboxB : document.createElement('div'), // border\r\n\t\t\t\t\tpad : document.createElement('div'),\r\n\t\t\t\t\tpadB : document.createElement('div'), // border\r\n\t\t\t\t\tpadM : document.createElement('div'), // mouse/touch area\r\n\t\t\t\t\tpadPal : jsc.createPalette(),\r\n\t\t\t\t\tcross : document.createElement('div'),\r\n\t\t\t\t\tcrossBY : document.createElement('div'), // border Y\r\n\t\t\t\t\tcrossBX : document.createElement('div'), // border X\r\n\t\t\t\t\tcrossLY : document.createElement('div'), // line Y\r\n\t\t\t\t\tcrossLX : document.createElement('div'), // line X\r\n\t\t\t\t\tsld : document.createElement('div'),\r\n\t\t\t\t\tsldB : document.createElement('div'), // border\r\n\t\t\t\t\tsldM : document.createElement('div'), // mouse/touch area\r\n\t\t\t\t\tsldGrad : jsc.createSliderGradient(),\r\n\t\t\t\t\tsldPtrS : document.createElement('div'), // slider pointer spacer\r\n\t\t\t\t\tsldPtrIB : document.createElement('div'), // slider pointer inner border\r\n\t\t\t\t\tsldPtrMB : document.createElement('div'), // slider pointer middle border\r\n\t\t\t\t\tsldPtrOB : document.createElement('div'), // slider pointer outer border\r\n\t\t\t\t\tbtn : document.createElement('div'),\r\n\t\t\t\t\tbtnT : document.createElement('span') // text\r\n\t\t\t\t};\r\n\r\n\t\t\t\tjsc.picker.pad.appendChild(jsc.picker.padPal.elm);\r\n\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.pad);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBY);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossBX);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLY);\r\n\t\t\t\tjsc.picker.cross.appendChild(jsc.picker.crossLX);\r\n\t\t\t\tjsc.picker.padB.appendChild(jsc.picker.cross);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padB);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.padM);\r\n\r\n\t\t\t\tjsc.picker.sld.appendChild(jsc.picker.sldGrad.elm);\r\n\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sld);\r\n\t\t\t\tjsc.picker.sldB.appendChild(jsc.picker.sldPtrOB);\r\n\t\t\t\tjsc.picker.sldPtrOB.appendChild(jsc.picker.sldPtrMB);\r\n\t\t\t\tjsc.picker.sldPtrMB.appendChild(jsc.picker.sldPtrIB);\r\n\t\t\t\tjsc.picker.sldPtrIB.appendChild(jsc.picker.sldPtrS);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldB);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.sldM);\r\n\r\n\t\t\t\tjsc.picker.btn.appendChild(jsc.picker.btnT);\r\n\t\t\t\tjsc.picker.box.appendChild(jsc.picker.btn);\r\n\r\n\t\t\t\tjsc.picker.boxB.appendChild(jsc.picker.box);\r\n\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxS);\r\n\t\t\t\tjsc.picker.wrap.appendChild(jsc.picker.boxB);\r\n\t\t\t}\r\n\r\n\t\t\tvar p = jsc.picker;\r\n\r\n\t\t\tvar displaySlider = !!jsc.getSliderComponent(THIS);\r\n\t\t\tvar dims = jsc.getPickerDims(THIS);\r\n\t\t\tvar crossOuterSize = (2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize);\r\n\t\t\tvar padToSliderPadding = jsc.getPadToSliderPadding(THIS);\r\n\t\t\tvar borderRadius = Math.min(\r\n\t\t\t\tTHIS.borderRadius,\r\n\t\t\t\tMath.round(THIS.padding * Math.PI)); // px\r\n\t\t\tvar padCursor = 'crosshair';\r\n\r\n\t\t\t// wrap\r\n\t\t\tp.wrap.style.clear = 'both';\r\n\t\t\tp.wrap.style.width = (dims[0] + 2 * THIS.borderWidth) + 'px';\r\n\t\t\tp.wrap.style.height = (dims[1] + 2 * THIS.borderWidth) + 'px';\r\n\t\t\tp.wrap.style.zIndex = THIS.zIndex;\r\n\r\n\t\t\t// picker\r\n\t\t\tp.box.style.width = dims[0] + 'px';\r\n\t\t\tp.box.style.height = dims[1] + 'px';\r\n\r\n\t\t\tp.boxS.style.position = 'absolute';\r\n\t\t\tp.boxS.style.left = '0';\r\n\t\t\tp.boxS.style.top = '0';\r\n\t\t\tp.boxS.style.width = '100%';\r\n\t\t\tp.boxS.style.height = '100%';\r\n\t\t\tjsc.setBorderRadius(p.boxS, borderRadius + 'px');\r\n\r\n\t\t\t// picker border\r\n\t\t\tp.boxB.style.position = 'relative';\r\n\t\t\tp.boxB.style.border = THIS.borderWidth + 'px solid';\r\n\t\t\tp.boxB.style.borderColor = THIS.borderColor;\r\n\t\t\tp.boxB.style.background = THIS.backgroundColor;\r\n\t\t\tjsc.setBorderRadius(p.boxB, borderRadius + 'px');\r\n\r\n\t\t\t// IE hack:\r\n\t\t\t// If the element is transparent, IE will trigger the event on the elements under it,\r\n\t\t\t// e.g. on Canvas or on elements with border\r\n\t\t\tp.padM.style.background =\r\n\t\t\tp.sldM.style.background =\r\n\t\t\t\t'#FFF';\r\n\t\t\tjsc.setStyle(p.padM, 'opacity', '0');\r\n\t\t\tjsc.setStyle(p.sldM, 'opacity', '0');\r\n\r\n\t\t\t// pad\r\n\t\t\tp.pad.style.position = 'relative';\r\n\t\t\tp.pad.style.width = THIS.width + 'px';\r\n\t\t\tp.pad.style.height = THIS.height + 'px';\r\n\r\n\t\t\t// pad palettes (HSV and HVS)\r\n\t\t\tp.padPal.draw(THIS.width, THIS.height, jsc.getPadYComponent(THIS));\r\n\r\n\t\t\t// pad border\r\n\t\t\tp.padB.style.position = 'absolute';\r\n\t\t\tp.padB.style.left = THIS.padding + 'px';\r\n\t\t\tp.padB.style.top = THIS.padding + 'px';\r\n\t\t\tp.padB.style.border = THIS.insetWidth + 'px solid';\r\n\t\t\tp.padB.style.borderColor = THIS.insetColor;\r\n\r\n\t\t\t// pad mouse area\r\n\t\t\tp.padM._jscInstance = THIS;\r\n\t\t\tp.padM._jscControlName = 'pad';\r\n\t\t\tp.padM.style.position = 'absolute';\r\n\t\t\tp.padM.style.left = '0';\r\n\t\t\tp.padM.style.top = '0';\r\n\t\t\tp.padM.style.width = (THIS.padding + 2 * THIS.insetWidth + THIS.width + padToSliderPadding / 2) + 'px';\r\n\t\t\tp.padM.style.height = dims[1] + 'px';\r\n\t\t\tp.padM.style.cursor = padCursor;\r\n\r\n\t\t\t// pad cross\r\n\t\t\tp.cross.style.position = 'absolute';\r\n\t\t\tp.cross.style.left =\r\n\t\t\tp.cross.style.top =\r\n\t\t\t\t'0';\r\n\t\t\tp.cross.style.width =\r\n\t\t\tp.cross.style.height =\r\n\t\t\t\tcrossOuterSize + 'px';\r\n\r\n\t\t\t// pad cross border Y and X\r\n\t\t\tp.crossBY.style.position =\r\n\t\t\tp.crossBX.style.position =\r\n\t\t\t\t'absolute';\r\n\t\t\tp.crossBY.style.background =\r\n\t\t\tp.crossBX.style.background =\r\n\t\t\t\tTHIS.pointerBorderColor;\r\n\t\t\tp.crossBY.style.width =\r\n\t\t\tp.crossBX.style.height =\r\n\t\t\t\t(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\tp.crossBY.style.height =\r\n\t\t\tp.crossBX.style.width =\r\n\t\t\t\tcrossOuterSize + 'px';\r\n\t\t\tp.crossBY.style.left =\r\n\t\t\tp.crossBX.style.top =\r\n\t\t\t\t(Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2) - THIS.pointerBorderWidth) + 'px';\r\n\t\t\tp.crossBY.style.top =\r\n\t\t\tp.crossBX.style.left =\r\n\t\t\t\t'0';\r\n\r\n\t\t\t// pad cross line Y and X\r\n\t\t\tp.crossLY.style.position =\r\n\t\t\tp.crossLX.style.position =\r\n\t\t\t\t'absolute';\r\n\t\t\tp.crossLY.style.background =\r\n\t\t\tp.crossLX.style.background =\r\n\t\t\t\tTHIS.pointerColor;\r\n\t\t\tp.crossLY.style.height =\r\n\t\t\tp.crossLX.style.width =\r\n\t\t\t\t(crossOuterSize - 2 * THIS.pointerBorderWidth) + 'px';\r\n\t\t\tp.crossLY.style.width =\r\n\t\t\tp.crossLX.style.height =\r\n\t\t\t\tTHIS.pointerThickness + 'px';\r\n\t\t\tp.crossLY.style.left =\r\n\t\t\tp.crossLX.style.top =\r\n\t\t\t\t(Math.floor(crossOuterSize / 2) - Math.floor(THIS.pointerThickness / 2)) + 'px';\r\n\t\t\tp.crossLY.style.top =\r\n\t\t\tp.crossLX.style.left =\r\n\t\t\t\tTHIS.pointerBorderWidth + 'px';\r\n\r\n\t\t\t// slider\r\n\t\t\tp.sld.style.overflow = 'hidden';\r\n\t\t\tp.sld.style.width = THIS.sliderSize + 'px';\r\n\t\t\tp.sld.style.height = THIS.height + 'px';\r\n\r\n\t\t\t// slider gradient\r\n\t\t\tp.sldGrad.draw(THIS.sliderSize, THIS.height, '#000', '#000');\r\n\r\n\t\t\t// slider border\r\n\t\t\tp.sldB.style.display = displaySlider ? 'block' : 'none';\r\n\t\t\tp.sldB.style.position = 'absolute';\r\n\t\t\tp.sldB.style.right = THIS.padding + 'px';\r\n\t\t\tp.sldB.style.top = THIS.padding + 'px';\r\n\t\t\tp.sldB.style.border = THIS.insetWidth + 'px solid';\r\n\t\t\tp.sldB.style.borderColor = THIS.insetColor;\r\n\r\n\t\t\t// slider mouse area\r\n\t\t\tp.sldM._jscInstance = THIS;\r\n\t\t\tp.sldM._jscControlName = 'sld';\r\n\t\t\tp.sldM.style.display = displaySlider ? 'block' : 'none';\r\n\t\t\tp.sldM.style.position = 'absolute';\r\n\t\t\tp.sldM.style.right = '0';\r\n\t\t\tp.sldM.style.top = '0';\r\n\t\t\tp.sldM.style.width = (THIS.sliderSize + padToSliderPadding / 2 + THIS.padding + 2 * THIS.insetWidth) + 'px';\r\n\t\t\tp.sldM.style.height = dims[1] + 'px';\r\n\t\t\tp.sldM.style.cursor = 'default';\r\n\r\n\t\t\t// slider pointer inner and outer border\r\n\t\t\tp.sldPtrIB.style.border =\r\n\t\t\tp.sldPtrOB.style.border =\r\n\t\t\t\tTHIS.pointerBorderWidth + 'px solid ' + THIS.pointerBorderColor;\r\n\r\n\t\t\t// slider pointer outer border\r\n\t\t\tp.sldPtrOB.style.position = 'absolute';\r\n\t\t\tp.sldPtrOB.style.left = -(2 * THIS.pointerBorderWidth + THIS.pointerThickness) + 'px';\r\n\t\t\tp.sldPtrOB.style.top = '0';\r\n\r\n\t\t\t// slider pointer middle border\r\n\t\t\tp.sldPtrMB.style.border = THIS.pointerThickness + 'px solid ' + THIS.pointerColor;\r\n\r\n\t\t\t// slider pointer spacer\r\n\t\t\tp.sldPtrS.style.width = THIS.sliderSize + 'px';\r\n\t\t\tp.sldPtrS.style.height = sliderPtrSpace + 'px';\r\n\r\n\t\t\t// the Close button\r\n\t\t\tfunction setBtnBorder () {\r\n\t\t\t\tvar insetColors = THIS.insetColor.split(/\\s+/);\r\n\t\t\t\tvar outsetColor = insetColors.length < 2 ? insetColors[0] : insetColors[1] + ' ' + insetColors[0] + ' ' + insetColors[0] + ' ' + insetColors[1];\r\n\t\t\t\tp.btn.style.borderColor = outsetColor;\r\n\t\t\t}\r\n\t\t\tp.btn.style.display = THIS.closable ? 'block' : 'none';\r\n\t\t\tp.btn.style.position = 'absolute';\r\n\t\t\tp.btn.style.left = THIS.padding + 'px';\r\n\t\t\tp.btn.style.bottom = THIS.padding + 'px';\r\n\t\t\tp.btn.style.padding = '0 15px';\r\n\t\t\tp.btn.style.height = THIS.buttonHeight + 'px';\r\n\t\t\tp.btn.style.border = THIS.insetWidth + 'px solid';\r\n\t\t\tsetBtnBorder();\r\n\t\t\tp.btn.style.color = THIS.buttonColor;\r\n\t\t\tp.btn.style.font = '12px sans-serif';\r\n\t\t\tp.btn.style.textAlign = 'center';\r\n\t\t\ttry {\r\n\t\t\t\tp.btn.style.cursor = 'pointer';\r\n\t\t\t} catch(eOldIE) {\r\n\t\t\t\tp.btn.style.cursor = 'hand';\r\n\t\t\t}\r\n\t\t\tp.btn.onmousedown = function () {\r\n\t\t\t\tTHIS.hide();\r\n\t\t\t};\r\n\t\t\tp.btnT.style.lineHeight = THIS.buttonHeight + 'px';\r\n\t\t\tp.btnT.innerHTML = '';\r\n\t\t\tp.btnT.appendChild(document.createTextNode(THIS.closeText));\r\n\r\n\t\t\t// place pointers\r\n\t\t\tredrawPad();\r\n\t\t\tredrawSld();\r\n\r\n\t\t\t// If we are changing the owner without first closing the picker,\r\n\t\t\t// make sure to first deal with the old owner\r\n\t\t\tif (jsc.picker.owner && jsc.picker.owner !== THIS) {\r\n\t\t\t\tjsc.unsetClass(jsc.picker.owner.targetElement, THIS.activeClass);\r\n\t\t\t}\r\n\r\n\t\t\t// Set the new picker owner\r\n\t\t\tjsc.picker.owner = THIS;\r\n\r\n\t\t\t// The redrawPosition() method needs picker.owner to be set, that's why we call it here,\r\n\t\t\t// after setting the owner\r\n\t\t\tif (jsc.isElementType(container, 'body')) {\r\n\t\t\t\tjsc.redrawPosition();\r\n\t\t\t} else {\r\n\t\t\t\tjsc._drawPosition(THIS, 0, 0, 'relative', false);\r\n\t\t\t}\r\n\r\n\t\t\tif (p.wrap.parentNode != container) {\r\n\t\t\t\tcontainer.appendChild(p.wrap);\r\n\t\t\t}\r\n\r\n\t\t\tjsc.setClass(THIS.targetElement, THIS.activeClass);\r\n\t\t}\r\n\r\n\r\n\t\tfunction redrawPad () {\r\n\t\t\t// redraw the pad pointer\r\n\t\t\tswitch (jsc.getPadYComponent(THIS)) {\r\n\t\t\tcase 's': var yComponent = 1; break;\r\n\t\t\tcase 'v': var yComponent = 2; break;\r\n\t\t\t}\r\n\t\t\tvar x = Math.round((THIS.hsv[0] / 360) * (THIS.width - 1));\r\n\t\t\tvar y = Math.round((1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1));\r\n\t\t\tvar crossOuterSize = (2 * THIS.pointerBorderWidth + THIS.pointerThickness + 2 * THIS.crossSize);\r\n\t\t\tvar ofs = -Math.floor(crossOuterSize / 2);\r\n\t\t\tjsc.picker.cross.style.left = (x + ofs) + 'px';\r\n\t\t\tjsc.picker.cross.style.top = (y + ofs) + 'px';\r\n\r\n\t\t\t// redraw the slider\r\n\t\t\tswitch (jsc.getSliderComponent(THIS)) {\r\n\t\t\tcase 's':\r\n\t\t\t\tvar rgb1 = HSV_RGB(THIS.hsv[0], 100, THIS.hsv[2]);\r\n\t\t\t\tvar rgb2 = HSV_RGB(THIS.hsv[0], 0, THIS.hsv[2]);\r\n\t\t\t\tvar color1 = 'rgb(' +\r\n\t\t\t\t\tMath.round(rgb1[0]) + ',' +\r\n\t\t\t\t\tMath.round(rgb1[1]) + ',' +\r\n\t\t\t\t\tMath.round(rgb1[2]) + ')';\r\n\t\t\t\tvar color2 = 'rgb(' +\r\n\t\t\t\t\tMath.round(rgb2[0]) + ',' +\r\n\t\t\t\t\tMath.round(rgb2[1]) + ',' +\r\n\t\t\t\t\tMath.round(rgb2[2]) + ')';\r\n\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'v':\r\n\t\t\t\tvar rgb = HSV_RGB(THIS.hsv[0], THIS.hsv[1], 100);\r\n\t\t\t\tvar color1 = 'rgb(' +\r\n\t\t\t\t\tMath.round(rgb[0]) + ',' +\r\n\t\t\t\t\tMath.round(rgb[1]) + ',' +\r\n\t\t\t\t\tMath.round(rgb[2]) + ')';\r\n\t\t\t\tvar color2 = '#000';\r\n\t\t\t\tjsc.picker.sldGrad.draw(THIS.sliderSize, THIS.height, color1, color2);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction redrawSld () {\r\n\t\t\tvar sldComponent = jsc.getSliderComponent(THIS);\r\n\t\t\tif (sldComponent) {\r\n\t\t\t\t// redraw the slider pointer\r\n\t\t\t\tswitch (sldComponent) {\r\n\t\t\t\tcase 's': var yComponent = 1; break;\r\n\t\t\t\tcase 'v': var yComponent = 2; break;\r\n\t\t\t\t}\r\n\t\t\t\tvar y = Math.round((1 - THIS.hsv[yComponent] / 100) * (THIS.height - 1));\r\n\t\t\t\tjsc.picker.sldPtrOB.style.top = (y - (2 * THIS.pointerBorderWidth + THIS.pointerThickness) - Math.floor(sliderPtrSpace / 2)) + 'px';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfunction isPickerOwner () {\r\n\t\t\treturn jsc.picker && jsc.picker.owner === THIS;\r\n\t\t}\r\n\r\n\r\n\t\tfunction blurValue () {\r\n\t\t\tTHIS.importColor();\r\n\t\t}\r\n\r\n\r\n\t\t// Find the target element\r\n\t\tif (typeof targetElement === 'string') {\r\n\t\t\tvar id = targetElement;\r\n\t\t\tvar elm = document.getElementById(id);\r\n\t\t\tif (elm) {\r\n\t\t\t\tthis.targetElement = elm;\r\n\t\t\t} else {\r\n\t\t\t\tjsc.warn('Could not find target element with ID \\'' + id + '\\'');\r\n\t\t\t}\r\n\t\t} else if (targetElement) {\r\n\t\t\tthis.targetElement = targetElement;\r\n\t\t} else {\r\n\t\t\tjsc.warn('Invalid target element: \\'' + targetElement + '\\'');\r\n\t\t}\r\n\r\n\t\tif (this.targetElement._jscLinkedInstance) {\r\n\t\t\tjsc.warn('Cannot link jscolor twice to the same element. Skipping.');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.targetElement._jscLinkedInstance = this;\r\n\r\n\t\t// Find the value element\r\n\t\tthis.valueElement = jsc.fetchElement(this.valueElement);\r\n\t\t// Find the style element\r\n\t\tthis.styleElement = jsc.fetchElement(this.styleElement);\r\n\r\n\t\tvar THIS = this;\r\n\t\tvar container =\r\n\t\t\tthis.container ?\r\n\t\t\tjsc.fetchElement(this.container) :\r\n\t\t\tdocument.getElementsByTagName('body')[0];\r\n\t\tvar sliderPtrSpace = 3; // px\r\n\r\n\t\t// For BUTTON elements it's important to stop them from sending the form when clicked\r\n\t\t// (e.g. in Safari)\r\n\t\tif (jsc.isElementType(this.targetElement, 'button')) {\r\n\t\t\tif (this.targetElement.onclick) {\r\n\t\t\t\tvar origCallback = this.targetElement.onclick;\r\n\t\t\t\tthis.targetElement.onclick = function (evt) {\r\n\t\t\t\t\torigCallback.call(this, evt);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tthis.targetElement.onclick = function () { return false; };\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\tvar elm = this.targetElement;\r\n\t\tdo {\r\n\t\t\t// If the target element or one of its offsetParents has fixed position,\r\n\t\t\t// then use fixed positioning instead\r\n\t\t\t//\r\n\t\t\t// Note: In Firefox, getComputedStyle returns null in a hidden iframe,\r\n\t\t\t// that's why we need to check if the returned style object is non-empty\r\n\t\t\tvar currStyle = jsc.getStyle(elm);\r\n\t\t\tif (currStyle && currStyle.position.toLowerCase() === 'fixed') {\r\n\t\t\t\tthis.fixed = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (elm !== this.targetElement) {\r\n\t\t\t\t// attach onParentScroll so that we can recompute the picker position\r\n\t\t\t\t// when one of the offsetParents is scrolled\r\n\t\t\t\tif (!elm._jscEventsAttached) {\r\n\t\t\t\t\tjsc.attachEvent(elm, 'scroll', jsc.onParentScroll);\r\n\t\t\t\t\telm._jscEventsAttached = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} while ((elm = elm.offsetParent) && !jsc.isElementType(elm, 'body'));\r\n\t\t*/\r\n\r\n\t\t// valueElement\r\n\t\tif (this.valueElement) {\r\n\t\t\tif (jsc.isElementType(this.valueElement, 'input')) {\r\n\t\t\t\tvar updateField = function () {\r\n\t\t\t\t\tTHIS.fromString(THIS.valueElement.value, jsc.leaveValue);\r\n\t\t\t\t\tjsc.dispatchFineChange(THIS);\r\n\t\t\t\t};\r\n\t\t\t\tjsc.attachEvent(this.valueElement, 'keyup', updateField);\r\n\t\t\t\tjsc.attachEvent(this.valueElement, 'input', updateField);\r\n\t\t\t\tjsc.attachEvent(this.valueElement, 'blur', blurValue);\r\n\t\t\t\tthis.valueElement.setAttribute('autocomplete', 'off');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// styleElement\r\n\t\tif (this.styleElement) {\r\n\t\t\tthis.styleElement._jscOrigStyle = {\r\n\t\t\t\tbackgroundImage : this.styleElement.style.backgroundImage,\r\n\t\t\t\tbackgroundColor : this.styleElement.style.backgroundColor,\r\n\t\t\t\tcolor : this.styleElement.style.color\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (this.value) {\r\n\t\t\t// Try to set the color from the .value option and if unsuccessful,\r\n\t\t\t// export the current color\r\n\t\t\tthis.fromString(this.value) || this.exportColor();\r\n\t\t} else {\r\n\t\t\tthis.importColor();\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\n\r\n//================================\r\n// Public properties and methods\r\n//================================\r\n\r\n\r\n// By default, search for all elements with class=\"jscolor\" and install a color picker on them.\r\n//\r\n// You can change what class name will be looked for by setting the property jscolor.lookupClass\r\n// anywhere in your HTML document. To completely disable the automatic lookup, set it to null.\r\n//\r\njsc.jscolor.lookupClass = 'jscolor';\r\n\r\n\r\njsc.jscolor.installByClassName = function (className) {\r\n\tvar inputElms = document.getElementsByTagName('input');\r\n\tvar buttonElms = document.getElementsByTagName('button');\r\n\r\n\tjsc.tryInstallOnElements(inputElms, className);\r\n\tjsc.tryInstallOnElements(buttonElms, className);\r\n};\r\n\r\n\r\njsc.register();\r\n\r\n\r\nreturn jsc.jscolor;\r\n\r\n\r\n})(); }\r\n"]}