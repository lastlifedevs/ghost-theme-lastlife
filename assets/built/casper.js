/*!
* FitVids 1.3
*
*
* Copyright 2017, Chris Coyier + Dave Rupert + Ghost Foundation
* This is an unofficial release, ported by John O'Nolan
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the MIT license
*
*/
!function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',r.appendChild(o.childNodes[1])}return t&&e.extend(n,t),this.each((function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];n.customSelector&&t.push(n.customSelector);var r=".fitvidsignore";n.ignore&&(r=r+", "+n.ignore);var o=e(this).find(t.join(","));(o=(o=o.not("object object")).not(r)).each((function(){var t=e(this);if(!(t.parents(r).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var n=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("name")){var o="fitvid"+e.fn.fitVids._count;t.attr("name",o),e.fn.fitVids._count++}t.wrap('<div class="fluid-width-video-container"><div class="fluid-width-video-wrapper"></div></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),t.removeAttr("height").removeAttr("width")}}))}))},e.fn.fitVids._count=0}(window.jQuery||window.Zepto),$(document).ready((function(){$(".profile-icon").hover((function(){let e=$(this),t=$("#profiles-container"),n=$("#profile-"+$.escapeSelector($(this).data("prof-id")));n.show();let r=t.outerHeight();n.hide();let o=e.offset().top-$(window).scrollTop()+e.outerHeight();o+r+100>$(document).outerHeight()&&(o-=e.outerHeight()+r),t.css("top",o+"px"),$(".creator-profile").stop().hide(),n.fadeIn()}),(function(){$(".creator-profile").hide()}))})),function(e,t){t.addEventListener("DOMContentLoaded",(function(){t.querySelectorAll(".kg-gallery-image img").forEach((function(e){var t=e.closest(".kg-gallery-image"),n=e.attributes.width.value/e.attributes.height.value;t.style.flex=n+" 1 0%"}))}))}(window,document),function(e,t){var n=t.querySelector("link[rel=next]");if(n){var r=t.querySelector(".post-feed");if(r){var o=!1,i=!1,s=e.scrollY,a=e.innerHeight,l=t.documentElement.scrollHeight;e.addEventListener("scroll",u,{passive:!0}),e.addEventListener("resize",p),h()}}function c(){if(404===this.status)return e.removeEventListener("scroll",u),void e.removeEventListener("resize",p);this.response.querySelectorAll(".post-card").forEach((function(e){r.appendChild(t.importNode(e,!0))}));var s=this.response.querySelector("link[rel=next]");s?n.href=s.href:(e.removeEventListener("scroll",u),e.removeEventListener("resize",p)),l=t.documentElement.scrollHeight,o=!1,i=!1}function d(){if(!i)if(s+a<=l-300)o=!1;else{i=!0;var t=new e.XMLHttpRequest;t.responseType="document",t.addEventListener("load",c),t.open("GET",n.href),t.send(null)}}function h(){o||e.requestAnimationFrame(d),o=!0}function u(){s=e.scrollY,h()}function p(){a=e.innerHeight,l=t.documentElement.scrollHeight,h()}}(window,document),window.jscolor||(window.jscolor=function(){var e,t,n,r,o,i={register:function(){i.attachDOMReadyEvent(i.init),i.attachEvent(document,"mousedown",i.onDocumentMouseDown),i.attachEvent(document,"touchstart",i.onDocumentTouchStart),i.attachEvent(window,"resize",i.onWindowResize)},init:function(){i.jscolor.lookupClass&&i.jscolor.installByClassName(i.jscolor.lookupClass)},tryInstallOnElements:function(e,t){for(var n=new RegExp("(^|\\s)("+t+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),r=0;r<e.length;r+=1){var o;if(void 0===e[r].type||"color"!=e[r].type.toLowerCase()||!i.isColorAttrSupported)if(!e[r].jscolor&&e[r].className&&(o=e[r].className.match(n))){var s=e[r],a=null,l=i.getDataAttr(s,"jscolor");null!==l?a=l:o[4]&&(a=o[4]);var c={};if(a)try{c=new Function("return ("+a+")")()}catch(e){i.warn("Error parsing jscolor options: "+e+":\n"+a)}s.jscolor=new i.jscolor(s,c)}}},isColorAttrSupported:(o=document.createElement("input"),!(!o.setAttribute||(o.setAttribute("type","color"),"color"!=o.type.toLowerCase()))),isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),fetchElement:function(e){return"string"==typeof e?document.getElementById(e):e},isElementType:function(e,t){return e.nodeName.toLowerCase()===t.toLowerCase()},getDataAttr:function(e,t){var n="data-"+t,r=e.getAttribute(n);return null!==r?r:null},attachEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},detachEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},_attachedGroupEvents:{},attachGroupEvent:function(e,t,n,r){i._attachedGroupEvents.hasOwnProperty(e)||(i._attachedGroupEvents[e]=[]),i._attachedGroupEvents[e].push([t,n,r]),i.attachEvent(t,n,r)},detachGroupEvents:function(e){if(i._attachedGroupEvents.hasOwnProperty(e)){for(var t=0;t<i._attachedGroupEvents[e].length;t+=1){var n=i._attachedGroupEvents[e][t];i.detachEvent(n[0],n[1],n[2])}delete i._attachedGroupEvents[e]}},attachDOMReadyEvent:function(e){var t=!1,n=function(){t||(t=!0,e())};if("complete"!==document.readyState){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),n())})),window.attachEvent("onload",n),document.documentElement.doScroll&&window==window.top)){var r=function(){if(document.body)try{document.documentElement.doScroll("left"),n()}catch(e){setTimeout(r,1)}};r()}}else setTimeout(n,1)},warn:function(e){window.console&&window.console.warn&&window.console.warn(e)},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},captureTarget:function(e){e.setCapture&&(i._capturedTarget=e,i._capturedTarget.setCapture())},releaseTarget:function(){i._capturedTarget&&(i._capturedTarget.releaseCapture(),i._capturedTarget=null)},fireEvent:function(e,t){if(e)if(document.createEvent)(n=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),e.dispatchEvent(n);else if(document.createEventObject){var n=document.createEventObject();e.fireEvent("on"+t,n)}else e["on"+t]&&e["on"+t]()},classNameToList:function(e){return e.replace(/^\s+|\s+$/g,"").split(/\s+/)},hasClass:function(e,t){return!!t&&-1!=(" "+e.className.replace(/\s+/g," ")+" ").indexOf(" "+t+" ")},setClass:function(e,t){for(var n=i.classNameToList(t),r=0;r<n.length;r+=1)i.hasClass(e,n[r])||(e.className+=(e.className?" ":"")+n[r])},unsetClass:function(e,t){for(var n=i.classNameToList(t),r=0;r<n.length;r+=1){var o=new RegExp("^\\s*"+n[r]+"\\s*|\\s*"+n[r]+"\\s*$|\\s+"+n[r]+"(\\s+)","g");e.className=e.className.replace(o,"$1")}},getStyle:function(e){return window.getComputedStyle?window.getComputedStyle(e):e.currentStyle},setStyle:(t=document.createElement("div"),n=function(e){for(var n=0;n<e.length;n+=1)if(e[n]in t.style)return e[n]},r={borderRadius:n(["borderRadius","MozBorderRadius","webkitBorderRadius"]),boxShadow:n(["boxShadow","MozBoxShadow","webkitBoxShadow"])},function(e,t,n){switch(t.toLowerCase()){case"opacity":var o=Math.round(100*parseFloat(n));e.style.opacity=n,e.style.filter="alpha(opacity="+o+")";break;default:e.style[r[t]]=n}}),setBorderRadius:function(e,t){i.setStyle(e,"borderRadius",t||"0")},setBoxShadow:function(e,t){i.setStyle(e,"boxShadow",t||"none")},getElementPos:function(e,t){var n=0,r=0,o=e.getBoundingClientRect();if(n=o.left,r=o.top,!t){var s=i.getViewPos();n+=s[0],r+=s[1]}return[n,r]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getAbsPointerPos:function(e){e||(e=window.event);var t=0,n=0;return void 0!==e.changedTouches&&e.changedTouches.length?(t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(t=e.clientX,n=e.clientY),{x:t,y:n}},getRelPointerPos:function(e){e||(e=window.event);var t=(e.target||e.srcElement).getBoundingClientRect(),n=0,r=0;return void 0!==e.changedTouches&&e.changedTouches.length?(n=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(n=e.clientX,r=e.clientY),{x:n-t.left,y:r-t.top}},getViewPos:function(){var e=document.documentElement;return[(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),(window.pageYOffset||e.scrollTop)-(e.clientTop||0)]},getViewSize:function(){var e=document.documentElement;return[window.innerWidth||e.clientWidth,window.innerHeight||e.clientHeight]},redrawPosition:function(){if(i.picker&&i.picker.owner){var e,t,n=i.picker.owner;n.fixed?(e=i.getElementPos(n.targetElement,!0),t=[0,0]):(e=i.getElementPos(n.targetElement),t=i.getViewPos());var r,o,s,a=i.getElementSize(n.targetElement),l=i.getViewSize(),c=i.getPickerOuterDims(n);switch(n.position.toLowerCase()){case"left":r=1,o=0,s=-1;break;case"right":r=1,o=0,s=1;break;case"top":r=0,o=1,s=-1;break;default:r=0,o=1,s=1}var d=(a[o]+c[o])/2;if(n.smartPosition)h=[-t[r]+e[r]+c[r]>l[r]&&-t[r]+e[r]+a[r]/2>l[r]/2&&e[r]+a[r]-c[r]>=0?e[r]+a[r]-c[r]:e[r],-t[o]+e[o]+a[o]+c[o]-d+d*s>l[o]?-t[o]+e[o]+a[o]/2>l[o]/2&&e[o]+a[o]-d-d*s>=0?e[o]+a[o]-d-d*s:e[o]+a[o]-d+d*s:e[o]+a[o]-d+d*s>=0?e[o]+a[o]-d+d*s:e[o]+a[o]-d-d*s];else var h=[e[r],e[o]+a[o]-d+d*s];var u=h[r],p=h[o],f=n.fixed?"fixed":"absolute",m=(h[0]+c[0]>e[0]||h[0]<e[0]+a[0])&&h[1]+c[1]<e[1]+a[1];i._drawPosition(n,u,p,f,m)}},_drawPosition:function(e,t,n,r,o){var s=o?0:e.shadowBlur;i.picker.wrap.style.position=r,i.picker.wrap.style.left=t+"px",i.picker.wrap.style.top=n+"px",i.setBoxShadow(i.picker.boxS,e.shadow?new i.BoxShadow(0,s,e.shadowBlur,0,e.shadowColor):null)},getPickerDims:function(e){var t=!!i.getSliderComponent(e);return[2*e.insetWidth+2*e.padding+e.width+(t?2*e.insetWidth+i.getPadToSliderPadding(e)+e.sliderSize:0),2*e.insetWidth+2*e.padding+e.height+(e.closable?2*e.insetWidth+e.padding+e.buttonHeight:0)]},getPickerOuterDims:function(e){var t=i.getPickerDims(e);return[t[0]+2*e.borderWidth,t[1]+2*e.borderWidth]},getPadToSliderPadding:function(e){return Math.max(e.padding,1.5*(2*e.pointerBorderWidth+e.pointerThickness))},getPadYComponent:function(e){switch(e.mode.charAt(1).toLowerCase()){case"v":return"v"}return"s"},getSliderComponent:function(e){if(e.mode.length>2)switch(e.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}return null},onDocumentMouseDown:function(e){e||(e=window.event);var t=e.target||e.srcElement;t._jscLinkedInstance?t._jscLinkedInstance.showOnClick&&t._jscLinkedInstance.show():t._jscControlName?i.onControlPointerStart(e,t,t._jscControlName,"mouse"):i.picker&&i.picker.owner&&i.picker.owner.hide()},onDocumentTouchStart:function(e){e||(e=window.event);var t=e.target||e.srcElement;t._jscLinkedInstance?t._jscLinkedInstance.showOnClick&&t._jscLinkedInstance.show():t._jscControlName?i.onControlPointerStart(e,t,t._jscControlName,"touch"):i.picker&&i.picker.owner&&i.picker.owner.hide()},onWindowResize:function(e){i.redrawPosition()},onParentScroll:function(e){i.picker&&i.picker.owner&&i.picker.owner.hide()},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onControlPointerStart:function(e,t,n,r){var o=t._jscInstance;i.preventDefault(e),i.captureTarget(t);var s=function(o,s){i.attachGroupEvent("drag",o,i._pointerMoveEvent[r],i.onDocumentPointerMove(e,t,n,r,s)),i.attachGroupEvent("drag",o,i._pointerEndEvent[r],i.onDocumentPointerEnd(e,t,n,r))};if(s(document,[0,0]),window.parent&&window.frameElement){var a=window.frameElement.getBoundingClientRect(),l=[-a.left,-a.top];s(window.parent.window.document,l)}var c=i.getAbsPointerPos(e),d=i.getRelPointerPos(e);switch(i._pointerOrigin={x:c.x-d.x,y:c.y-d.y},n){case"pad":switch(i.getSliderComponent(o)){case"s":0===o.hsv[1]&&o.fromHSV(null,100,null);break;case"v":0===o.hsv[2]&&o.fromHSV(null,null,100)}i.setPad(o,e,0,0);break;case"sld":i.setSld(o,e,0)}i.dispatchFineChange(o)},onDocumentPointerMove:function(e,t,n,r,o){return function(e){var r=t._jscInstance;switch(n){case"pad":e||(e=window.event),i.setPad(r,e,o[0],o[1]),i.dispatchFineChange(r);break;case"sld":e||(e=window.event),i.setSld(r,e,o[1]),i.dispatchFineChange(r)}}},onDocumentPointerEnd:function(e,t,n,r){return function(e){var n=t._jscInstance;i.detachGroupEvents("drag"),i.releaseTarget(),i.dispatchChange(n)}},dispatchChange:function(e){e.valueElement&&i.isElementType(e.valueElement,"input")&&i.fireEvent(e.valueElement,"change")},dispatchFineChange:function(e){e.onFineChange&&("string"==typeof e.onFineChange?new Function(e.onFineChange):e.onFineChange).call(e)},setPad:function(e,t,n,r){var o=i.getAbsPointerPos(t),s=n+o.x-i._pointerOrigin.x-e.padding-e.insetWidth,a=r+o.y-i._pointerOrigin.y-e.padding-e.insetWidth,l=s*(360/(e.width-1)),c=100-a*(100/(e.height-1));switch(i.getPadYComponent(e)){case"s":e.fromHSV(l,c,null,i.leaveSld);break;case"v":e.fromHSV(l,null,c,i.leaveSld)}},setSld:function(e,t,n){var r=100-(n+i.getAbsPointerPos(t).y-i._pointerOrigin.y-e.padding-e.insetWidth)*(100/(e.height-1));switch(i.getSliderComponent(e)){case"s":e.fromHSV(null,r,null,i.leavePad);break;case"v":e.fromHSV(null,null,r,i.leavePad)}},_vmlNS:"jsc_vml_",_vmlCSS:"jsc_vml_css_",_vmlReady:!1,initVML:function(){if(!i._vmlReady){var e=document;if(e.namespaces[i._vmlNS]||e.namespaces.add(i._vmlNS,"urn:schemas-microsoft-com:vml"),!e.styleSheets[i._vmlCSS]){var t=["shape","shapetype","group","background","path","formulas","handles","fill","stroke","shadow","textbox","textpath","imagedata","line","polyline","curve","rect","roundrect","oval","arc","image"],n=e.createStyleSheet();n.owningElement.id=i._vmlCSS;for(var r=0;r<t.length;r+=1)n.addRule(i._vmlNS+"\\:"+t[r],"behavior:url(#default#VML);")}i._vmlReady=!0}},createPalette:function(){var e={elm:null,draw:null};if(i.isCanvasSupported){var t=document.createElement("canvas"),n=t.getContext("2d"),r=function(e,r,o){t.width=e,t.height=r,n.clearRect(0,0,t.width,t.height);var i=n.createLinearGradient(0,0,t.width,0);i.addColorStop(0,"#F00"),i.addColorStop(1/6,"#FF0"),i.addColorStop(2/6,"#0F0"),i.addColorStop(.5,"#0FF"),i.addColorStop(4/6,"#00F"),i.addColorStop(5/6,"#F0F"),i.addColorStop(1,"#F00"),n.fillStyle=i,n.fillRect(0,0,t.width,t.height);var s=n.createLinearGradient(0,0,0,t.height);switch(o.toLowerCase()){case"s":s.addColorStop(0,"rgba(255,255,255,0)"),s.addColorStop(1,"rgba(255,255,255,1)");break;case"v":s.addColorStop(0,"rgba(0,0,0,0)"),s.addColorStop(1,"rgba(0,0,0,1)")}n.fillStyle=s,n.fillRect(0,0,t.width,t.height)};e.elm=t,e.draw=r}else{i.initVML();var o=document.createElement("div");o.style.position="relative",o.style.overflow="hidden";var s=document.createElement(i._vmlNS+":fill");s.type="gradient",s.method="linear",s.angle="90",s.colors="16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0";var a=document.createElement(i._vmlNS+":rect");a.style.position="absolute",a.style.left="-1px",a.style.top="-1px",a.stroked=!1,a.appendChild(s),o.appendChild(a);var l=document.createElement(i._vmlNS+":fill");l.type="gradient",l.method="linear",l.angle="180",l.opacity="0";var c=document.createElement(i._vmlNS+":rect");c.style.position="absolute",c.style.left="-1px",c.style.top="-1px",c.stroked=!1,c.appendChild(l),o.appendChild(c);r=function(e,t,n){switch(o.style.width=e+"px",o.style.height=t+"px",a.style.width=c.style.width=e+1+"px",a.style.height=c.style.height=t+1+"px",s.color="#F00",s.color2="#F00",n.toLowerCase()){case"s":l.color=l.color2="#FFF";break;case"v":l.color=l.color2="#000"}};e.elm=o,e.draw=r}return e},createSliderGradient:function(){var e={elm:null,draw:null};if(i.isCanvasSupported){var t=document.createElement("canvas"),n=t.getContext("2d"),r=function(e,r,o,i){t.width=e,t.height=r,n.clearRect(0,0,t.width,t.height);var s=n.createLinearGradient(0,0,0,t.height);s.addColorStop(0,o),s.addColorStop(1,i),n.fillStyle=s,n.fillRect(0,0,t.width,t.height)};e.elm=t,e.draw=r}else{i.initVML();var o=document.createElement("div");o.style.position="relative",o.style.overflow="hidden";var s=document.createElement(i._vmlNS+":fill");s.type="gradient",s.method="linear",s.angle="180";var a=document.createElement(i._vmlNS+":rect");a.style.position="absolute",a.style.left="-1px",a.style.top="-1px",a.stroked=!1,a.appendChild(s),o.appendChild(a);r=function(e,t,n,r){o.style.width=e+"px",o.style.height=t+"px",a.style.width=e+1+"px",a.style.height=t+1+"px",s.color=n,s.color2=r};e.elm=o,e.draw=r}return e},leaveValue:1,leaveStyle:2,leavePad:4,leaveSld:8,BoxShadow:(e=function(e,t,n,r,o,i){this.hShadow=e,this.vShadow=t,this.blur=n,this.spread=r,this.color=o,this.inset=!!i},e.prototype.toString=function(){var e=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&e.push("inset"),e.join(" ")},e),jscolor:function(e,t){for(var n in this.value=null,this.valueElement=e,this.styleElement=e,this.required=!0,this.refine=!0,this.hash=!1,this.uppercase=!0,this.onFineChange=null,this.activeClass="jscolor-active",this.overwriteImportant=!1,this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.hsv=[0,0,100],this.rgb=[255,255,255],this.width=181,this.height=101,this.showOnClick=!0,this.mode="HSV",this.position="bottom",this.smartPosition=!0,this.sliderSize=16,this.crossSize=8,this.closable=!1,this.closeText="Close",this.buttonColor="#000000",this.buttonHeight=18,this.padding=12,this.backgroundColor="#FFFFFF",this.borderWidth=1,this.borderColor="#BBBBBB",this.borderRadius=8,this.insetWidth=1,this.insetColor="#BBBBBB",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="#4C4C4C",this.pointerBorderColor="#FFFFFF",this.pointerBorderWidth=1,this.pointerThickness=2,this.zIndex=1e3,this.container=null,t)t.hasOwnProperty(n)&&(this[n]=t[n]);function r(e,t,n){var r=n/100*255;if(null===e)return[r,r,r];e/=60,t/=100;var o=Math.floor(e),i=r*(1-t),s=r*(1-t*(o%2?e-o:1-(e-o)));switch(o){case 6:case 0:return[r,s,i];case 1:return[s,r,i];case 2:return[i,r,s];case 3:return[i,s,r];case 4:return[s,i,r];case 5:return[r,i,s]}}function o(){h._processParentElementsInDOM(),i.picker||(i.picker={owner:null,wrap:document.createElement("div"),box:document.createElement("div"),boxS:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),padPal:i.createPalette(),cross:document.createElement("div"),crossBY:document.createElement("div"),crossBX:document.createElement("div"),crossLY:document.createElement("div"),crossLX:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),sldGrad:i.createSliderGradient(),sldPtrS:document.createElement("div"),sldPtrIB:document.createElement("div"),sldPtrMB:document.createElement("div"),sldPtrOB:document.createElement("div"),btn:document.createElement("div"),btnT:document.createElement("span")},i.picker.pad.appendChild(i.picker.padPal.elm),i.picker.padB.appendChild(i.picker.pad),i.picker.cross.appendChild(i.picker.crossBY),i.picker.cross.appendChild(i.picker.crossBX),i.picker.cross.appendChild(i.picker.crossLY),i.picker.cross.appendChild(i.picker.crossLX),i.picker.padB.appendChild(i.picker.cross),i.picker.box.appendChild(i.picker.padB),i.picker.box.appendChild(i.picker.padM),i.picker.sld.appendChild(i.picker.sldGrad.elm),i.picker.sldB.appendChild(i.picker.sld),i.picker.sldB.appendChild(i.picker.sldPtrOB),i.picker.sldPtrOB.appendChild(i.picker.sldPtrMB),i.picker.sldPtrMB.appendChild(i.picker.sldPtrIB),i.picker.sldPtrIB.appendChild(i.picker.sldPtrS),i.picker.box.appendChild(i.picker.sldB),i.picker.box.appendChild(i.picker.sldM),i.picker.btn.appendChild(i.picker.btnT),i.picker.box.appendChild(i.picker.btn),i.picker.boxB.appendChild(i.picker.box),i.picker.wrap.appendChild(i.picker.boxS),i.picker.wrap.appendChild(i.picker.boxB));var e,t,n=i.picker,r=!!i.getSliderComponent(h),o=i.getPickerDims(h),l=2*h.pointerBorderWidth+h.pointerThickness+2*h.crossSize,c=i.getPadToSliderPadding(h),d=Math.min(h.borderRadius,Math.round(h.padding*Math.PI));n.wrap.style.clear="both",n.wrap.style.width=o[0]+2*h.borderWidth+"px",n.wrap.style.height=o[1]+2*h.borderWidth+"px",n.wrap.style.zIndex=h.zIndex,n.box.style.width=o[0]+"px",n.box.style.height=o[1]+"px",n.boxS.style.position="absolute",n.boxS.style.left="0",n.boxS.style.top="0",n.boxS.style.width="100%",n.boxS.style.height="100%",i.setBorderRadius(n.boxS,d+"px"),n.boxB.style.position="relative",n.boxB.style.border=h.borderWidth+"px solid",n.boxB.style.borderColor=h.borderColor,n.boxB.style.background=h.backgroundColor,i.setBorderRadius(n.boxB,d+"px"),n.padM.style.background=n.sldM.style.background="#FFF",i.setStyle(n.padM,"opacity","0"),i.setStyle(n.sldM,"opacity","0"),n.pad.style.position="relative",n.pad.style.width=h.width+"px",n.pad.style.height=h.height+"px",n.padPal.draw(h.width,h.height,i.getPadYComponent(h)),n.padB.style.position="absolute",n.padB.style.left=h.padding+"px",n.padB.style.top=h.padding+"px",n.padB.style.border=h.insetWidth+"px solid",n.padB.style.borderColor=h.insetColor,n.padM._jscInstance=h,n.padM._jscControlName="pad",n.padM.style.position="absolute",n.padM.style.left="0",n.padM.style.top="0",n.padM.style.width=h.padding+2*h.insetWidth+h.width+c/2+"px",n.padM.style.height=o[1]+"px",n.padM.style.cursor="crosshair",n.cross.style.position="absolute",n.cross.style.left=n.cross.style.top="0",n.cross.style.width=n.cross.style.height=l+"px",n.crossBY.style.position=n.crossBX.style.position="absolute",n.crossBY.style.background=n.crossBX.style.background=h.pointerBorderColor,n.crossBY.style.width=n.crossBX.style.height=2*h.pointerBorderWidth+h.pointerThickness+"px",n.crossBY.style.height=n.crossBX.style.width=l+"px",n.crossBY.style.left=n.crossBX.style.top=Math.floor(l/2)-Math.floor(h.pointerThickness/2)-h.pointerBorderWidth+"px",n.crossBY.style.top=n.crossBX.style.left="0",n.crossLY.style.position=n.crossLX.style.position="absolute",n.crossLY.style.background=n.crossLX.style.background=h.pointerColor,n.crossLY.style.height=n.crossLX.style.width=l-2*h.pointerBorderWidth+"px",n.crossLY.style.width=n.crossLX.style.height=h.pointerThickness+"px",n.crossLY.style.left=n.crossLX.style.top=Math.floor(l/2)-Math.floor(h.pointerThickness/2)+"px",n.crossLY.style.top=n.crossLX.style.left=h.pointerBorderWidth+"px",n.sld.style.overflow="hidden",n.sld.style.width=h.sliderSize+"px",n.sld.style.height=h.height+"px",n.sldGrad.draw(h.sliderSize,h.height,"#000","#000"),n.sldB.style.display=r?"block":"none",n.sldB.style.position="absolute",n.sldB.style.right=h.padding+"px",n.sldB.style.top=h.padding+"px",n.sldB.style.border=h.insetWidth+"px solid",n.sldB.style.borderColor=h.insetColor,n.sldM._jscInstance=h,n.sldM._jscControlName="sld",n.sldM.style.display=r?"block":"none",n.sldM.style.position="absolute",n.sldM.style.right="0",n.sldM.style.top="0",n.sldM.style.width=h.sliderSize+c/2+h.padding+2*h.insetWidth+"px",n.sldM.style.height=o[1]+"px",n.sldM.style.cursor="default",n.sldPtrIB.style.border=n.sldPtrOB.style.border=h.pointerBorderWidth+"px solid "+h.pointerBorderColor,n.sldPtrOB.style.position="absolute",n.sldPtrOB.style.left=-(2*h.pointerBorderWidth+h.pointerThickness)+"px",n.sldPtrOB.style.top="0",n.sldPtrMB.style.border=h.pointerThickness+"px solid "+h.pointerColor,n.sldPtrS.style.width=h.sliderSize+"px",n.sldPtrS.style.height=p+"px",n.btn.style.display=h.closable?"block":"none",n.btn.style.position="absolute",n.btn.style.left=h.padding+"px",n.btn.style.bottom=h.padding+"px",n.btn.style.padding="0 15px",n.btn.style.height=h.buttonHeight+"px",n.btn.style.border=h.insetWidth+"px solid",e=h.insetColor.split(/\s+/),t=e.length<2?e[0]:e[1]+" "+e[0]+" "+e[0]+" "+e[1],n.btn.style.borderColor=t,n.btn.style.color=h.buttonColor,n.btn.style.font="12px sans-serif",n.btn.style.textAlign="center";try{n.btn.style.cursor="pointer"}catch(e){n.btn.style.cursor="hand"}n.btn.onmousedown=function(){h.hide()},n.btnT.style.lineHeight=h.buttonHeight+"px",n.btnT.innerHTML="",n.btnT.appendChild(document.createTextNode(h.closeText)),s(),a(),i.picker.owner&&i.picker.owner!==h&&i.unsetClass(i.picker.owner.targetElement,h.activeClass),i.picker.owner=h,i.isElementType(u,"body")?i.redrawPosition():i._drawPosition(h,0,0,"relative",!1),n.wrap.parentNode!=u&&u.appendChild(n.wrap),i.setClass(h.targetElement,h.activeClass)}function s(){switch(i.getPadYComponent(h)){case"s":var e=1;break;case"v":e=2}var t=Math.round(h.hsv[0]/360*(h.width-1)),n=Math.round((1-h.hsv[e]/100)*(h.height-1)),o=2*h.pointerBorderWidth+h.pointerThickness+2*h.crossSize,s=-Math.floor(o/2);switch(i.picker.cross.style.left=t+s+"px",i.picker.cross.style.top=n+s+"px",i.getSliderComponent(h)){case"s":var a=r(h.hsv[0],100,h.hsv[2]),l=r(h.hsv[0],0,h.hsv[2]),c="rgb("+Math.round(a[0])+","+Math.round(a[1])+","+Math.round(a[2])+")",d="rgb("+Math.round(l[0])+","+Math.round(l[1])+","+Math.round(l[2])+")";i.picker.sldGrad.draw(h.sliderSize,h.height,c,d);break;case"v":var u=r(h.hsv[0],h.hsv[1],100);c="rgb("+Math.round(u[0])+","+Math.round(u[1])+","+Math.round(u[2])+")",d="#000";i.picker.sldGrad.draw(h.sliderSize,h.height,c,d)}}function a(){var e=i.getSliderComponent(h);if(e){switch(e){case"s":var t=1;break;case"v":t=2}var n=Math.round((1-h.hsv[t]/100)*(h.height-1));i.picker.sldPtrOB.style.top=n-(2*h.pointerBorderWidth+h.pointerThickness)-Math.floor(p/2)+"px"}}function l(){return i.picker&&i.picker.owner===h}if(this.hide=function(){l()&&(i.unsetClass(h.targetElement,h.activeClass),i.picker.wrap.parentNode.removeChild(i.picker.wrap),delete i.picker.owner)},this.show=function(){o()},this.redraw=function(){l()&&o()},this.importColor=function(){this.valueElement&&i.isElementType(this.valueElement,"input")?this.refine?!this.required&&/^\s*$/.test(this.valueElement.value)?(this.valueElement.value="",this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(i.leaveValue|i.leaveStyle)):this.fromString(this.valueElement.value)||this.exportColor():this.fromString(this.valueElement.value,i.leaveValue)||(this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(i.leaveValue|i.leaveStyle)):this.exportColor()},this.exportColor=function(e){if(!(e&i.leaveValue)&&this.valueElement){var t=this.toString();this.uppercase&&(t=t.toUpperCase()),this.hash&&(t="#"+t),i.isElementType(this.valueElement,"input")?this.valueElement.value=t:this.valueElement.innerHTML=t}if(!(e&i.leaveStyle)&&this.styleElement){var n="#"+this.toString(),r=this.isLight()?"#000":"#FFF";this.styleElement.style.backgroundImage="none",this.styleElement.style.backgroundColor=n,this.styleElement.style.color=r,this.overwriteImportant&&this.styleElement.setAttribute("style","background: "+n+" !important; color: "+r+" !important;")}e&i.leavePad||!l()||s(),e&i.leaveSld||!l()||a()},this.fromHSV=function(e,t,n,o){if(null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(360,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(100,this.maxS,t),this.minS)}if(null!==n){if(isNaN(n))return!1;n=Math.max(0,Math.min(100,this.maxV,n),this.minV)}this.rgb=r(null===e?this.hsv[0]:this.hsv[0]=e,null===t?this.hsv[1]:this.hsv[1]=t,null===n?this.hsv[2]:this.hsv[2]=n),this.exportColor(o)},this.fromRGB=function(e,t,n,o){if(null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(255,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(255,t))}if(null!==n){if(isNaN(n))return!1;n=Math.max(0,Math.min(255,n))}var i=function(e,t,n){e/=255,t/=255,n/=255;var r=Math.min(Math.min(e,t),n),o=Math.max(Math.max(e,t),n),i=o-r;if(0===i)return[null,0,100*o];var s=e===r?3+(n-t)/i:t===r?5+(e-n)/i:1+(t-e)/i;return[60*(6===s?0:s),i/o*100,100*o]}(null===e?this.rgb[0]:e,null===t?this.rgb[1]:t,null===n?this.rgb[2]:n);null!==i[0]&&(this.hsv[0]=Math.max(0,Math.min(360,i[0]))),0!==i[2]&&(this.hsv[1]=null===i[1]?null:Math.max(0,this.minS,Math.min(100,this.maxS,i[1]))),this.hsv[2]=null===i[2]?null:Math.max(0,this.minV,Math.min(100,this.maxV,i[2]));var s=r(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=s[0],this.rgb[1]=s[1],this.rgb[2]=s[2],this.exportColor(o)},this.fromString=function(e,t){var n;if(n=e.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i))return 6===n[1].length?this.fromRGB(parseInt(n[1].substr(0,2),16),parseInt(n[1].substr(2,2),16),parseInt(n[1].substr(4,2),16),t):this.fromRGB(parseInt(n[1].charAt(0)+n[1].charAt(0),16),parseInt(n[1].charAt(1)+n[1].charAt(1),16),parseInt(n[1].charAt(2)+n[1].charAt(2),16),t),!0;if(n=e.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var r,o,i,s=n[1].split(","),a=/^\s*(\d*)(\.\d+)?\s*$/;if(s.length>=3&&(r=s[0].match(a))&&(o=s[1].match(a))&&(i=s[2].match(a))){var l=parseFloat((r[1]||"0")+(r[2]||"")),c=parseFloat((o[1]||"0")+(o[2]||"")),d=parseFloat((i[1]||"0")+(i[2]||""));return this.fromRGB(l,c,d,t),!0}}return!1},this.toString=function(){return(256|Math.round(this.rgb[0])).toString(16).substr(1)+(256|Math.round(this.rgb[1])).toString(16).substr(1)+(256|Math.round(this.rgb[2])).toString(16).substr(1)},this.toHEXString=function(){return"#"+this.toString().toUpperCase()},this.toRGBString=function(){return"rgb("+Math.round(this.rgb[0])+","+Math.round(this.rgb[1])+","+Math.round(this.rgb[2])+")"},this.isLight=function(){return.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]>127.5},this._processParentElementsInDOM=function(){if(!this._linkedElementsProcessed){this._linkedElementsProcessed=!0;var e=this.targetElement;do{var t=i.getStyle(e);t&&"fixed"===t.position.toLowerCase()&&(this.fixed=!0),e!==this.targetElement&&(e._jscEventsAttached||(i.attachEvent(e,"scroll",i.onParentScroll),e._jscEventsAttached=!0))}while((e=e.parentNode)&&!i.isElementType(e,"body"))}},"string"==typeof e){var c=e,d=document.getElementById(c);d?this.targetElement=d:i.warn("Could not find target element with ID '"+c+"'")}else e?this.targetElement=e:i.warn("Invalid target element: '"+e+"'");if(this.targetElement._jscLinkedInstance)i.warn("Cannot link jscolor twice to the same element. Skipping.");else{this.targetElement._jscLinkedInstance=this,this.valueElement=i.fetchElement(this.valueElement),this.styleElement=i.fetchElement(this.styleElement);var h=this,u=this.container?i.fetchElement(this.container):document.getElementsByTagName("body")[0],p=3;if(i.isElementType(this.targetElement,"button"))if(this.targetElement.onclick){var f=this.targetElement.onclick;this.targetElement.onclick=function(e){return f.call(this,e),!1}}else this.targetElement.onclick=function(){return!1};if(this.valueElement&&i.isElementType(this.valueElement,"input")){var m=function(){h.fromString(h.valueElement.value,i.leaveValue),i.dispatchFineChange(h)};i.attachEvent(this.valueElement,"keyup",m),i.attachEvent(this.valueElement,"input",m),i.attachEvent(this.valueElement,"blur",(function(){h.importColor()})),this.valueElement.setAttribute("autocomplete","off")}this.styleElement&&(this.styleElement._jscOrigStyle={backgroundImage:this.styleElement.style.backgroundImage,backgroundColor:this.styleElement.style.backgroundColor,color:this.styleElement.style.color}),this.value?this.fromString(this.value)||this.exportColor():this.importColor()}}};return i.jscolor.lookupClass="jscolor",i.jscolor.installByClassName=function(e){var t=document.getElementsByTagName("input"),n=document.getElementsByTagName("button");i.tryInstallOnElements(t,e),i.tryInstallOnElements(n,e)},i.register(),i.jscolor}())
/*! modernizr 3.6.0 (Custom Build) | MIT *
 * https://modernizr.com/download/?-touchevents-setclasses !*/,function(e,t,n){function r(e,t){return typeof e===t}function o(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):h?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function i(){var e=t.body;return e||((e=o(h?"svg":"body")).fake=!0),e}var s=[],a=[],l={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){a.push({name:e,fn:t,options:n})},addAsyncTest:function(e){a.push({name:null,fn:e})}},c=function(){};c.prototype=l,c=new c;var d=t.documentElement,h="svg"===d.nodeName.toLowerCase(),u=l._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];l._prefixes=u;var p=l.testStyles=function(e,n,r,s){var a,l,c,h,u="modernizr",p=o("div"),f=i();if(parseInt(r,10))for(;r--;)(c=o("div")).id=s?s[r]:u+(r+1),p.appendChild(c);return(a=o("style")).type="text/css",a.id="s"+u,(f.fake?f:p).appendChild(a),f.appendChild(p),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),p.id=u,f.fake&&(f.style.background="",f.style.overflow="hidden",h=d.style.overflow,d.style.overflow="hidden",d.appendChild(f)),l=n(p,e),f.fake?(f.parentNode.removeChild(f),d.style.overflow=h,d.offsetHeight):p.parentNode.removeChild(p),!!l};c.addTest("touchevents",(function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var r=["@media (",u.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");p(r,(function(e){n=9===e.offsetTop}))}return n})),function(){var e,t,n,o,i,l;for(var d in a)if(a.hasOwnProperty(d)){if(e=[],(t=a[d]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=r(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(l=e[i].split(".")).length?c[l[0]]=o:(!c[l[0]]||c[l[0]]instanceof Boolean||(c[l[0]]=new Boolean(c[l[0]])),c[l[0]][l[1]]=o),s.push((o?"":"no-")+l.join("-"))}}(),function(e){var t=d.className,n=c._config.classPrefix||"";if(h&&(t=t.baseVal),c._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}c._config.enableClasses&&(t+=" "+n+e.join(" "+n),h?d.className.baseVal=t:d.className=t)}(s),delete l.addTest,delete l.addAsyncTest;for(var f=0;f<c._q.length;f++)c._q[f]();e.Modernizr=c}(window,document);
/*!
 * SelfStyle (SeSt)
 *
 * Copyright 2018 Joshua Balanuik
 * Released under the Apache License 2.0
 */
const GRADIENT_PREFIX="grad-",FIELD_GROUP_PREFIX="fieldGroup:";function updateRange(e){var t=$(e),n=t.data("prop"),r="";switch(n){case"color":r="rgb("+t.val()+","+t.val()+","+t.val()+")",t.data("val",t.val())}$(t.data("sel")).css(n,r)}function updateJsColor(e){var t=$(e.valueElement),n=t.data("prop"),r="";let o="",i="";switch(n){case"color":case"background":r=e.toHEXString(),t.data("val",r),o="box-shadow";let s=rgbToHsl(e.rgb[0],e.rgb[1],e.rgb[2]);s[0]=Math.round(s[0]).toString(),s[1]=Math.round(100*s[1]).toString()+"%";let a=Math.round(100*s[2]),l=a+a/2;l>100&&(l=a/2),s[2]=l.toString()+"%",i="hsl("+s[0]+","+s[1]+","+s[2]+")";break;case"grad-background":n=n.substring("grad-".length);let c=t.data("fg");if(void 0===c)return;let d=$(".sest-field-group [data-fg="+c+"]");r="linear-gradient(#";for(let e=0;e<d.length;e++){let t=d[e].value;r+=t,$(d[e]).data("val",t),e!==d.length-1&&(r+=", #")}r+=")"}if(o){let e=$(t.data("sel"));switch(o){case"box-shadow":for(let t=0;t<e.length;t++){let s=e[t];$(s).css(n,r);let a=$(s).css(o);a&&$(s).css(o,i+a.substring(a.indexOf(")")+1))}}}else $(t.data("sel")).css(n,r)}function rgbToHsl(e,t,n){e/=255,t/=255,n/=255;let r,o=Math.max(e,t,n),i=Math.min(e,t,n),s=o-i;0===s?r=0:o===e?r=(t-n)/s%6:o===t?r=(n-e)/s+2:o===n&&(r=(e-t)/s+4);let a=(i+o)/2;return[60*r,0===s?0:s/(1-Math.abs(2*a-1)),a]}function outputSeStPrefs(){var e="",t=$("#sest-form input.sest-field");for(let r=0;r<t.length;r++){var n=$(t[r]);e+=n.data("sel")+"/"+n.data("prop")+"/"+n.data("val"),r!==t.length-1&&(e+="\\")}var r=$("#sest-form .sest-field-group");""!==e&&r.length>0&&(e+="\\");for(let t=0;t<r.length;t++){e+="fieldGroup:";let n=$(r[t]).find("input");e+=$(n[0]).data("sel")+"/"+$(n[0]).data("prop")+"/";for(let t=0;t<n.length;t++)e+="#"+$(n[t]).data("val"),t!==n.length-1&&(e+=",");t!==r.length-1&&(e+="\\")}return e}function refreshSeStPrefs(){let e=$("#sest-form"),t=e.find("input[type=range]");for(let e=0;e<t.length;e++)updateRange($(t[e]));let n=e.find("input.jscolor");for(let e=0;e<n.length;e++)n[e].jscolor.fromString(n[e].value),updateJsColor(n[e].jscolor)}function applySeStPrefs(e){var t=e.split("\\");for(let e=0;e<t.length;e++){let n=t[e].split("/");if(n[0].startsWith("fieldGroup:")){n[0]=n[0].substring("fieldGroup:".length,n[0].length);let e=$("input[data-sel='"+n[0]+"'][data-prop='"+n[1]+"']");switch(n[1]){case"grad-background":n[1]=n[1].substring("grad-".length),$(n[0]).css(n[1],"linear-gradient("+n[2]+")");let t=n[2].split(",");for(let n=0;n<t.length;n++){let r=t[n].substring(1);e[n].jscolor.fromString(r)}}}else{let e=$("input[data-sel='"+n[0]+"'][data-prop='"+n[1]+"']");"range"===e.attr("type")?(e.val(n[2]),updateRange(e)):e.hasClass("jscolor")&&(e[0].jscolor.fromString(n[2]),updateJsColor(e[0].jscolor))}}}$((function(){var e=localStorage.getItem("sest-prefs");null!==e&&applySeStPrefs(e),$("#sest-toggle").css("display","block"),$("#sest-toggle").click((function(){$("#selfstyle").slideDown()})),$("#sest-close-btn").click((function(){$("#selfstyle").slideUp()})),$(".sest-form-row input[type=range]").on("change mousemove",(function(){updateRange($(this))})),$("#sest-form").submit((function(e){localStorage.setItem("sest-prefs",outputSeStPrefs()),e.preventDefault()})),$("#sest-form button[type='reset']").click((function(e){e.preventDefault(),$("#sest-form")[0].reset(),refreshSeStPrefs()}))})),function(e,t,n){"use strict";function r(n){if(o=t.documentElement,i=t.body,V(),ne=this,ae=(n=n||{}).constants||{},n.easing)for(var r in n.easing)G[r]=n.easing[r];fe=n.edgeStrategy||"set",ie={beforerender:n.beforerender,render:n.render,keyframe:n.keyframe},(se=!1!==n.forceHeight)&&(Le=n.scale||1),le=n.mobileDeceleration||k,de=!1!==n.smoothScrolling,he=n.smoothScrollingDuration||x,ue={targetTop:ne.getScrollTop()},(He=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})())?((oe=t.getElementById(n.skrollrBody||C))&&te(),Y(),xe(o,[y,E],[w])):xe(o,[y,b],[w]),ne.refresh(),ve(e,"resize orientationchange",(function(){var e=o.clientWidth,t=o.clientHeight;(t!==$e||e!==Ie)&&($e=t,Ie=e,Ae=!0)}));var s=W();return function e(){X(),ge=s(e)}(),ne}var o,i,s={get:function(){return ne},init:function(e){return ne||new r(e)},VERSION:"0.6.29"},a=Object.prototype.hasOwnProperty,l=e.Math,c=e.getComputedStyle,d="touchstart",h="touchmove",u="touchcancel",p="touchend",f="skrollable",m=f+"-before",g=f+"-between",v=f+"-after",y="skrollr",w="no-"+y,b=y+"-desktop",E=y+"-mobile",S="linear",k=.004,C="skrollr-body",x=200,T="center",B="bottom",M="___skrollable_id",P=/^(?:input|textarea|button|select)$/i,_=/^\s+|\s+$/g,L=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,F=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,N=/^(@?[a-z\-]+)\[(\w+)\]$/,j=/-([a-z0-9_])/g,I=function(e,t){return t.toUpperCase()},$=/[\-+]?[\d]*\.?[\d]+/g,A=/\{\?\}/g,O=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,H=/[a-z\-]+-gradient/g,R="",D="",V=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var t=c(i,null);for(var n in t)if(R=n.match(e)||+n==n&&t[n].match(e))break;if(!R)return void(R=D="");"-"===(R=R[0]).slice(0,1)?(D=R,R={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[R]):D="-"+R.toLowerCase()+"-"}},W=function(){var t=e.requestAnimationFrame||e[R.toLowerCase()+"RequestAnimationFrame"],n=Me();return(He||!t)&&(t=function(t){var r=Me()-n,o=l.max(0,1e3/60-r);return e.setTimeout((function(){n=Me(),t()}),o)}),t},z=function(){var t=e.cancelAnimationFrame||e[R.toLowerCase()+"CancelAnimationFrame"];return(He||!t)&&(t=function(t){return e.clearTimeout(t)}),t},G={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-l.cos(e*l.PI)/2+.5},sqrt:function(e){return l.sqrt(e)},outCubic:function(e){return l.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-l.abs(3*l.cos(e*t*1.028)/t)}};r.prototype.refresh=function(e){var r,o,i=!1;for(e===n?(i=!0,re=[],Oe=0,e=t.getElementsByTagName("*")):e.length===n&&(e=[e]),r=0,o=e.length;o>r;r++){var s=e[r],a=s,l=[],c=de,d=fe,h=!1;if(i&&M in s&&delete s[M],s.attributes){for(var u=0,p=s.attributes.length;p>u;u++){var m=s.attributes[u];if("data-anchor-target"!==m.name)if("data-smooth-scrolling"!==m.name)if("data-edge-strategy"!==m.name)if("data-emit-events"!==m.name){var g=m.name.match(L);if(null!==g){var v={props:m.value,element:s,eventType:m.name.replace(j,I)};l.push(v);var y=g[1];y&&(v.constant=y.substr(1));var w=g[2];/p$/.test(w)?(v.isPercentage=!0,v.offset=(0|w.slice(0,-1))/100):v.offset=0|w;var b=g[3],E=g[4]||b;b&&"start"!==b&&"end"!==b?(v.mode="relative",v.anchors=[b,E]):(v.mode="absolute","end"===b?v.isEnd=!0:v.isPercentage||(v.offset=v.offset*Le))}}else h=!0;else d=m.value;else c="off"!==m.value;else if(null===(a=t.querySelector(m.value)))throw'Unable to find anchor target "'+m.value+'"'}var S,k,C;l.length&&(!i&&M in s?(C=s[M],S=re[C].styleAttr,k=re[C].classAttr):(C=s[M]=Oe++,S=s.style.cssText,k=Ce(s)),re[C]={element:s,styleAttr:S,classAttr:k,anchorTarget:a,keyFrames:l,smoothScrolling:c,edgeStrategy:d,emitEvents:h,lastFrameIndex:-1},xe(s,[f],[]))}}for(Ee(),r=0,o=e.length;o>r;r++){var x=re[e[r][M]];x!==n&&(q(x),J(x))}return ne},r.prototype.relativeToAbsolute=function(e,t,n){var r=o.clientHeight,i=e.getBoundingClientRect(),s=i.top,a=i.bottom-i.top;return t===B?s-=r:t===T&&(s-=r/2),n===B?s+=a:n===T&&(s+=a/2),(s+=ne.getScrollTop())+.5|0},r.prototype.animateTo=function(e,t){t=t||{};var r=Me(),o=ne.getScrollTop(),i=t.duration===n?1e3:t.duration;return(ce={startTop:o,topDiff:e-o,targetTop:e,duration:i,startTime:r,endTime:r+i,easing:G[t.easing||S],done:t.done}).topDiff||(ce.done&&ce.done.call(ne,!1),ce=n),ne},r.prototype.stopAnimateTo=function(){ce&&ce.done&&ce.done.call(ne,!0),ce=n},r.prototype.isAnimatingTo=function(){return!!ce},r.prototype.isMobile=function(){return He},r.prototype.setScrollTop=function(t,n){return pe=!0===n,He?Re=l.min(l.max(t,0),_e):e.scrollTo(0,t),ne},r.prototype.getScrollTop=function(){return He?Re:e.pageYOffset||o.scrollTop||i.scrollTop||0},r.prototype.getMaxScrollTop=function(){return _e},r.prototype.on=function(e,t){return ie[e]=t,ne},r.prototype.off=function(e){return delete ie[e],ne},r.prototype.destroy=function(){z()(ge),we(),xe(o,[w],[y,b,E]);for(var e=0,t=re.length;t>e;e++)ee(re[e].element);o.style.overflow=i.style.overflow="",o.style.height=i.style.height="",oe&&s.setStyle(oe,"transform","none"),ne=n,oe=n,ie=n,se=n,_e=0,Le=1,ae=n,le=n,Fe="down",Ne=-1,Ie=0,$e=0,Ae=!1,ce=n,de=n,he=n,ue=n,pe=n,Oe=0,fe=n,He=!1,Re=0,me=n};var Y=function(){var r,s,a,c,f,m,g,v,y,w,b;ve(o,[d,h,u,p].join(" "),(function(e){var o=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(f=o.clientY,m=o.clientX,y=e.timeStamp,P.test(c.tagName)||e.preventDefault(),e.type){case d:r&&r.blur(),ne.stopAnimateTo(),r=c,s=g=f,a=m;break;case h:P.test(c.tagName)&&t.activeElement!==c&&e.preventDefault(),v=f-g,b=y-w,ne.setScrollTop(Re-v,!0),g=f,w=y;break;default:case u:case p:var i=s-f,E=a-m;if(49>E*E+i*i){if(!P.test(r.tagName)){r.focus();var S=t.createEvent("MouseEvents");S.initMouseEvent("click",!0,!0,e.view,1,o.screenX,o.screenY,o.clientX,o.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),r.dispatchEvent(S)}return}r=n;var k=v/b;k=l.max(l.min(k,3),-3);var C=l.abs(k/le),x=k*C+.5*le*C*C,T=ne.getScrollTop()-x,B=0;T>_e?(B=(_e-T)/x,T=_e):0>T&&(B=-T/x,T=0),C*=1-B,ne.animateTo(T+.5|0,{easing:"outCubic",duration:C})}})),e.scrollTo(0,0),o.style.overflow=i.style.overflow="hidden"},X=function(){Ae&&(Ae=!1,Ee());var e,t,r=ne.getScrollTop(),o=Me();if(ce?(o>=ce.endTime?(r=ce.targetTop,e=ce.done,ce=n):(t=ce.easing((o-ce.startTime)/ce.duration),r=ce.startTop+t*ce.topDiff|0),ne.setScrollTop(r,!0)):pe||(ue.targetTop-r&&(ue={startTop:Ne,topDiff:r-Ne,targetTop:r,startTime:je,endTime:je+he}),o<=ue.endTime&&(t=G.sqrt((o-ue.startTime)/he),r=ue.startTop+t*ue.topDiff|0)),pe||Ne!==r){pe=!1;var i={curTop:r,lastTop:Ne,maxTop:_e,direction:Fe=r>Ne?"down":Ne>r?"up":Fe};!1!==(ie.beforerender&&ie.beforerender.call(ne,i))&&(function(e,t){for(var n=0,r=re.length;r>n;n++){var o,i,l=re[n],c=l.element,d=l.smoothScrolling?e:t,h=l.keyFrames,u=h.length,p=h[0],y=h[h.length-1],w=d<p.frame,b=d>y.frame,E=w?p:y,S=l.emitEvents,k=l.lastFrameIndex;if(w||b){if(w&&-1===l.edge||b&&1===l.edge)continue;switch(w?(xe(c,[m],[v,g]),S&&k>-1&&(be(c,p.eventType,Fe),l.lastFrameIndex=-1)):(xe(c,[v],[m,g]),S&&u>k&&(be(c,y.eventType,Fe),l.lastFrameIndex=u)),l.edge=w?-1:1,l.edgeStrategy){case"reset":ee(c);continue;case"ease":d=E.frame;break;default:case"set":var C=E.props;for(o in C)a.call(C,o)&&(i=Q(C[o].value),0===o.indexOf("@")?c.setAttribute(o.substr(1),i):s.setStyle(c,o,i));continue}}else 0!==l.edge&&(xe(c,[f,g],[m,v]),l.edge=0);for(var x=0;u-1>x;x++)if(d>=h[x].frame&&d<=h[x+1].frame){var T=h[x],B=h[x+1];for(o in T.props)if(a.call(T.props,o)){var M=(d-T.frame)/(B.frame-T.frame);M=T.props[o].easing(M),i=Z(T.props[o].value,B.props[o].value,M),i=Q(i),0===o.indexOf("@")?c.setAttribute(o.substr(1),i):s.setStyle(c,o,i)}S&&k!==x&&(be(c,"down"===Fe?T.eventType:B.eventType,Fe),l.lastFrameIndex=x);break}}}(r,ne.getScrollTop()),He&&oe&&s.setStyle(oe,"transform","translate(0, "+-Re+"px) "+me),Ne=r,ie.render&&ie.render.call(ne,i)),e&&e.call(ne,!1)}je=o},q=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var r,o,i,s,a=e.keyFrames[t],l={};null!==(s=F.exec(a.props));)i=s[1],o=s[2],null!==(r=i.match(N))?(i=r[1],r=r[2]):r=S,o=o.indexOf("!")?U(o):[o.slice(1)],l[i]={value:o,easing:G[r]};a.props=l}},U=function(e){var t=[];return O.lastIndex=0,e=e.replace(O,(function(e){return e.replace($,(function(e){return e/255*100+"%"}))})),D&&(H.lastIndex=0,e=e.replace(H,(function(e){return D+e}))),e=e.replace($,(function(e){return t.push(+e),"{?}"})),t.unshift(e),t},J=function(e){var t,n,r={};for(t=0,n=e.keyFrames.length;n>t;t++)K(e.keyFrames[t],r);for(r={},t=e.keyFrames.length-1;t>=0;t--)K(e.keyFrames[t],r)},K=function(e,t){var n;for(n in t)a.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},Z=function(e,t,n){var r,o=e.length;if(o!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var i=[e[0]];for(r=1;o>r;r++)i[r]=e[r]+(t[r]-e[r])*n;return i},Q=function(e){var t=1;return A.lastIndex=0,e[0].replace(A,(function(){return e[t++]}))},ee=function(e,t){for(var n,r,o=0,i=(e=[].concat(e)).length;i>o;o++)r=e[o],(n=re[r[M]])&&(t?(r.style.cssText=n.dirtyStyleAttr,xe(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=Ce(r),r.style.cssText=n.styleAttr,xe(r,n.classAttr)))},te=function(){me="translateZ(0)",s.setStyle(oe,"transform",me);var e=c(oe),t=e.getPropertyValue("transform"),n=e.getPropertyValue(D+"transform");t&&"none"!==t||n&&"none"!==n||(me="")};s.setStyle=function(e,t,n){var r=e.style;if("zIndex"===(t=t.replace(j,I).replace("-","")))isNaN(n)?r[t]=n:r[t]=""+(0|n);else if("float"===t)r.styleFloat=r.cssFloat=n;else try{R&&(r[R+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch(e){}};var ne,re,oe,ie,se,ae,le,ce,de,he,ue,pe,fe,me,ge,ve=s.addEvent=function(t,n,r){for(var o,i=function(t){return(t=t||e.event).target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),r.call(this,t)},s=0,a=(n=n.split(" ")).length;a>s;s++)o=n[s],t.addEventListener?t.addEventListener(o,r,!1):t.attachEvent("on"+o,i),De.push({element:t,name:o,listener:r})},ye=s.removeEvent=function(e,t,n){for(var r=0,o=(t=t.split(" ")).length;o>r;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},we=function(){for(var e,t=0,n=De.length;n>t;t++)e=De[t],ye(e.element,e.name,e.listener);De=[]},be=function(e,t,n){ie.keyframe&&ie.keyframe.call(ne,e,t,n)},Ee=function(){var e=ne.getScrollTop();_e=0,se&&!He&&(i.style.height=""),function(){var e,t,n,r,i,s,a,c,d,h,u,p=o.clientHeight,f=Se();for(c=0,d=re.length;d>c;c++)for(t=(e=re[c]).element,n=e.anchorTarget,i=0,s=(r=e.keyFrames).length;s>i;i++)h=(a=r[i]).offset,u=f[a.constant]||0,a.frame=h,a.isPercentage&&(h*=p,a.frame=h),"relative"===a.mode&&(ee(t),a.frame=ne.relativeToAbsolute(n,a.anchors[0],a.anchors[1])-h,ee(t,!0)),a.frame+=u,se&&!a.isEnd&&a.frame>_e&&(_e=a.frame);for(_e=l.max(_e,ke()),c=0,d=re.length;d>c;c++){for(i=0,s=(r=(e=re[c]).keyFrames).length;s>i;i++)u=f[(a=r[i]).constant]||0,a.isEnd&&(a.frame=_e-a.offset+u);e.keyFrames.sort(Pe)}}(),se&&!He&&(i.style.height=_e+o.clientHeight+"px"),He?ne.setScrollTop(l.min(ne.getScrollTop(),_e)):ne.setScrollTop(e,!0),pe=!0},Se=function(){var e,t,n=o.clientHeight,r={};for(e in ae)"function"==typeof(t=ae[e])?t=t.call(ne):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),r[e]=t;return r},ke=function(){var e=0;return oe&&(e=l.max(oe.offsetHeight,oe.scrollHeight)),l.max(e,i.scrollHeight,i.offsetHeight,o.scrollHeight,o.offsetHeight,o.clientHeight)-o.clientHeight},Ce=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},xe=function(t,r,o){var i="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[i],i="baseVal"),o!==n){for(var s=t[i],a=0,l=o.length;l>a;a++)s=Be(s).replace(Be(o[a])," ");s=Te(s);for(var c=0,d=r.length;d>c;c++)-1===Be(s).indexOf(Be(r[c]))&&(s+=" "+r[c]);t[i]=Te(s)}else t[i]=r},Te=function(e){return e.replace(_,"")},Be=function(e){return" "+e+" "},Me=Date.now||function(){return+new Date},Pe=function(e,t){return e.frame-t.frame},_e=0,Le=1,Fe="down",Ne=-1,je=Me(),Ie=0,$e=0,Ae=!1,Oe=0,He=!1,Re=0,De=[];"function"==typeof define&&define.amd?define([],(function(){return s})):"undefined"!=typeof module&&module.exports?module.exports=s:e.skrollr=s}(window,document),function(e,t){e.Casper||(e.Casper={}),e.Casper.stickyNavTitle=function(n){var r=t.querySelector(n.navSelector),o=t.querySelector(n.titleSelector),i=e.scrollY,s=!1;function a(){var t=o.getBoundingClientRect().top+e.scrollY,a=o.offsetHeight+35;i>=t+a?r.classList.add(n.activeClass):r.classList.remove(n.activeClass),s=!1}e.addEventListener("scroll",(function(){i=e.scrollY,function(){s||requestAnimationFrame(a);s=!0}()}),{passive:!0}),a()}}(window,document);
//# sourceMappingURL=casper.js.map