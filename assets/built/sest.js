const GRADIENT_PREFIX="grad-",FIELD_GROUP_PREFIX="fieldGroup:";function updateRange(t){var e=$(t),a=e.data("prop"),s="";switch(a){case"color":s="rgb("+e.val()+","+e.val()+","+e.val()+")",e.data("val",e.val())}$(e.data("sel")).css(a,s)}function updateJsColor(t){var e=$(t.valueElement),a=e.data("prop"),s="";switch(a){case"color":s=t.toHEXString();break;case"grad-background":a=a.substring(GRADIENT_PREFIX.length);let l=e.data("fg");if(void 0===l)return;let r=$(".sest-field-group [data-fg="+l+"]");s="linear-gradient(#";for(let t=0;t<r.length;t++){let e=r[t].value;s+=e,$(r[t]).data("val",e),t!==r.length-1&&(s+=", #")}s+=")"}$(e.data("sel")).css(a,s)}function outputSeStPrefs(){var t="",e=$("#sest-form input.sest-field");for(let s=0;s<e.length;s++){var a=$(e[s]);t+=a.data("sel")+"/"+a.data("prop")+"/"+a.data("val"),s!==e.length-1&&(t+="\\")}var s=$("#sest-form .sest-field-group");""!==t&&s.length>0&&(t+="\\");for(let e=0;e<s.length;e++){t+=FIELD_GROUP_PREFIX;let a=$(s[e]).find("input");t+=$(a[0]).data("sel")+"/"+$(a[0]).data("prop")+"/";for(let e=0;e<a.length;e++)t+="#"+$(a[e]).data("val"),e!==a.length-1&&(t+=",");e!==s.length-1&&(t+="\\")}return t}function refreshSeStPrefs(){let t=$("#sest-form"),e=t.find("input[type=range]");for(let t=0;t<e.length;t++)updateRange($(e[t]));let a=t.find("input.jscolor");for(let t=0;t<a.length;t++)updateJsColor($(a[t]))}function applySeStPrefs(t){var e=t.split("\\");for(let t=0;t<e.length;t++){let a=e[t].split("/");if(a[0].startsWith(FIELD_GROUP_PREFIX))switch(a[0]=a[0].substring(FIELD_GROUP_PREFIX.length,a[0].length),a[1]){case"grad-background":a[1]=a[1].substring(GRADIENT_PREFIX.length),$(a[0]).css(a[1],"linear-gradient("+a[2]+")")}else{let t=$("input[data-sel='"+a[0]+"'][data-prop='"+a[1]+"']");t.val(a[2]),"range"===t.attr("type")?updateRange(t):t.hasClass("jscolor")&&updateJsColor(t)}}}$(function(){var t=localStorage.getItem("sest-prefs");null!==t&&applySeStPrefs(t),$(".sest-toggle").click(function(){$(".selfstyle").slideDown()}),$("#sest-close-btn").click(function(){$(".selfstyle").slideUp()}),$(".sest-form-row input[type=range]").on("change mousemove",function(){updateRange($(this))}),$("#sest-form").submit(function(t){localStorage.setItem("sest-prefs",outputSeStPrefs()),t.preventDefault()}),$("#sest-form button[type='reset']").click(function(t){t.preventDefault(),$("#sest-form")[0].reset(),refreshSeStPrefs()})});
//# sourceMappingURL=sest.js.map
