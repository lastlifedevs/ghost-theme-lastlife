const GRADIENT_PREFIX="grad-",FIELD_GROUP_PREFIX="fieldGroup:";function updateRange(t){var e=$(t),a=e.data("prop"),l="";switch(a){case"color":l="rgb("+e.val()+","+e.val()+","+e.val()+")",e.data("val",e.val())}$(e.data("sel")).css(a,l)}function updateJsColor(t){var e=$(t.valueElement),a=e.data("prop"),l="";switch(a){case"color":case"background":l=t.toHEXString(),e.data("val",l);break;case"grad-background":a=a.substring(GRADIENT_PREFIX.length);let s=e.data("fg");if(void 0===s)return;let r=$(".sest-field-group [data-fg="+s+"]");l="linear-gradient(#";for(let t=0;t<r.length;t++){let e=r[t].value;l+=e,$(r[t]).data("val",e),t!==r.length-1&&(l+=", #")}l+=")"}$(e.data("sel")).css(a,l)}function outputSeStPrefs(){var t="",e=$("#sest-form input.sest-field");for(let l=0;l<e.length;l++){var a=$(e[l]);t+=a.data("sel")+"/"+a.data("prop")+"/"+a.data("val"),l!==e.length-1&&(t+="\\")}var l=$("#sest-form .sest-field-group");""!==t&&l.length>0&&(t+="\\");for(let e=0;e<l.length;e++){t+=FIELD_GROUP_PREFIX;let a=$(l[e]).find("input");t+=$(a[0]).data("sel")+"/"+$(a[0]).data("prop")+"/";for(let e=0;e<a.length;e++)t+="#"+$(a[e]).data("val"),e!==a.length-1&&(t+=",");e!==l.length-1&&(t+="\\")}return t}function refreshSeStPrefs(){let t=$("#sest-form"),e=t.find("input[type=range]");for(let t=0;t<e.length;t++)updateRange($(e[t]));let a=t.find("input.jscolor");for(let t=0;t<a.length;t++)a[t].jscolor.fromString(a[t].value),updateJsColor(a[t].jscolor)}function applySeStPrefs(t){var e=t.split("\\");for(let t=0;t<e.length;t++){let a=e[t].split("/");if(a[0].startsWith(FIELD_GROUP_PREFIX)){a[0]=a[0].substring(FIELD_GROUP_PREFIX.length,a[0].length);let t=$("input[data-sel='"+a[0]+"'][data-prop='"+a[1]+"']");switch(a[1]){case"grad-background":a[1]=a[1].substring(GRADIENT_PREFIX.length),$(a[0]).css(a[1],"linear-gradient("+a[2]+")");let e=a[2].split(",");for(let a=0;a<e.length;a++){let l=e[a].substring(1);t[a].jscolor.fromString(l)}}}else{let t=$("input[data-sel='"+a[0]+"'][data-prop='"+a[1]+"']");"range"===t.attr("type")?(t.val(a[2]),updateRange(t)):t.hasClass("jscolor")&&(t[0].jscolor.fromString(a[2]),updateJsColor(t[0].jscolor))}}}$(function(){var t=localStorage.getItem("sest-prefs");null!==t&&applySeStPrefs(t),$("#sest-toggle").click(function(){$("#selfstyle").slideDown()}),$("#sest-close-btn").click(function(){$("#selfstyle").slideUp()}),$(".sest-form-row input[type=range]").on("change mousemove",function(){updateRange($(this))}),$("#sest-form").submit(function(t){localStorage.setItem("sest-prefs",outputSeStPrefs()),t.preventDefault()}),$("#sest-form button[type='reset']").click(function(t){t.preventDefault(),$("#sest-form")[0].reset(),refreshSeStPrefs()})});
//# sourceMappingURL=sest.js.map
